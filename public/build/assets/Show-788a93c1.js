import{m,h as w,E as K,G as z,y as I,z as X,u as h,H,x as M,I as E,F as x,J as ee,o as d,c as L,w as D,a as S,d as te,n as V,b as l,f as u,p as k,t as T,g as $,T as F,Z as le,i as P,l as B,q as se}from"./app-f7c09578.js";import{t as q,H as U,M as ne,b as oe,o as ae,f as ie,K as re,a as de,T as ue,c as G,_ as ce}from"./AuthenticatedLayout-7d119ec7.js";import"./ApplicationLogo-22570b79.js";import"./_plugin-vue_export-helper-c27b6911.js";function pe(s){var o;let a=(o=s==null?void 0:s.form)!=null?o:s.closest("form");if(a){for(let t of a.elements)if(t.tagName==="INPUT"&&t.type==="submit"||t.tagName==="BUTTON"&&t.type==="submit"||t.nodeName==="INPUT"&&t.type==="image"){t.click();return}}}function ge(s,o,a){let t=m(a==null?void 0:a.value),i=w(()=>s.value!==void 0);return[w(()=>i.value?s.value:t.value),function(n){return i.value||(t.value=n),o==null?void 0:o(n)}]}let R=Symbol("LabelContext");function A(){let s=H(R,null);if(s===null){let o=new Error("You used a <Label /> component, but it is not inside a parent.");throw Error.captureStackTrace&&Error.captureStackTrace(o,A),o}return s}function fe({slot:s={},name:o="Label",props:a={}}={}){let t=m([]);function i(n){return t.value.push(n),()=>{let r=t.value.indexOf(n);r!==-1&&t.value.splice(r,1)}}return K(R,{register:i,slot:s,name:o,props:a}),w(()=>t.value.length>0?t.value.join(" "):void 0)}let me=z({name:"Label",props:{as:{type:[Object,String],default:"label"},passive:{type:[Boolean],default:!1},id:{type:String,default:()=>`headlessui-label-${q()}`}},setup(s,{slots:o,attrs:a}){let t=A();return I(()=>X(t.register(s.id))),()=>{let{name:i="Label",slot:n={},props:r={}}=t,{id:g,passive:b,...j}=s,f={...Object.entries(r).reduce((y,[C,_])=>Object.assign(y,{[C]:h(_)}),{}),id:g};return b&&(delete f.onClick,delete f.htmlFor,delete j.onClick),U({ourProps:f,theirProps:j,slot:n,attrs:a,slots:o,name:i})}}}),W=Symbol("GroupContext"),ve=z({name:"SwitchGroup",props:{as:{type:[Object,String],default:"template"}},setup(s,{slots:o,attrs:a}){let t=m(null),i=fe({name:"SwitchLabel",props:{htmlFor:w(()=>{var r;return(r=t.value)==null?void 0:r.id}),onClick(r){t.value&&(r.currentTarget.tagName==="LABEL"&&r.preventDefault(),t.value.click(),t.value.focus({preventScroll:!0}))}}}),n=ne({name:"SwitchDescription"});return K(W,{switchRef:t,labelledby:i,describedby:n}),()=>U({theirProps:s,ourProps:{},slot:{},slots:o,attrs:a,name:"SwitchGroup"})}}),he=z({name:"Switch",emits:{"update:modelValue":s=>!0},props:{as:{type:[Object,String],default:"button"},modelValue:{type:Boolean,default:void 0},defaultChecked:{type:Boolean,optional:!0},form:{type:String,optional:!0},name:{type:String,optional:!0},value:{type:String,optional:!0},id:{type:String,default:()=>`headlessui-switch-${q()}`}},inheritAttrs:!1,setup(s,{emit:o,attrs:a,slots:t,expose:i}){let n=H(W,null),[r,g]=ge(w(()=>s.modelValue),e=>o("update:modelValue",e),w(()=>s.defaultChecked));function b(){g(!r.value)}let j=m(null),f=n===null?j:n.switchRef,y=oe(w(()=>({as:s.as,type:a.type})),f);i({el:f,$el:f});function C(e){e.preventDefault(),b()}function _(e){e.key===G.Space?(e.preventDefault(),b()):e.key===G.Enter&&pe(e.currentTarget)}function v(e){e.preventDefault()}let c=w(()=>{var e,p;return(p=(e=ae(f))==null?void 0:e.closest)==null?void 0:p.call(e,"form")});return I(()=>{M([c],()=>{if(!c.value||s.defaultChecked===void 0)return;function e(){g(s.defaultChecked)}return c.value.addEventListener("reset",e),()=>{var p;(p=c.value)==null||p.removeEventListener("reset",e)}},{immediate:!0})}),()=>{let{id:e,name:p,value:O,form:J,...Y}=s,Z={checked:r.value},Q={id:e,ref:f,role:"switch",type:y.value,tabIndex:0,"aria-checked":r.value,"aria-labelledby":n==null?void 0:n.labelledby.value,"aria-describedby":n==null?void 0:n.describedby.value,onClick:C,onKeyup:_,onKeypress:v};return E(x,[p!=null&&r.value!=null?E(ie,re({features:de.Hidden,as:"input",type:"checkbox",hidden:!0,readOnly:!0,checked:r.value,form:J,name:p,value:O})):null,U({ourProps:Q,theirProps:{...a,...ue(Y,["modelValue","defaultChecked"])},slot:Z,attrs:a,slots:t,name:"Switch"})])}}}),be=me;const N=ee("tools",{state:()=>({guides:!1,delica:null}),getters:{},actions:{setDelica(s){this.delica=s},toggleGuides(){this.guides=!this.guides}}}),ye={__name:"GuidesToggle",setup(s){const o=N(),a=m(!1);return M(a,async(t,i)=>{o.toggleGuides()}),(t,i)=>(d(),L(h(ve),{as:"div",class:"flex flex-col justify-between h-full"},{default:D(()=>[S(h(be),{as:"span",class:"text-xs font-medium text-gray-500 text-right",passive:""},{default:D(()=>[te("Show guides")]),_:1}),S(h(he),{onChange:i[0]||(i[0]=n=>h(o).toggleGuides()),modelValue:a.value,"onUpdate:modelValue":i[1]||(i[1]=n=>a.value=n),class:V([a.value?"bg-indigo-600":"bg-gray-200","relative inline-flex h-6 w-11 flex-shrink-0 cursor-pointer rounded-full border-2 border-transparent transition-colors duration-200 ease-in-out focus:outline-none focus:ring-2 focus:ring-indigo-600 focus:ring-offset-2"])},{default:D(()=>[l("span",{"aria-hidden":"true",class:V([a.value?"translate-x-5":"translate-x-0","pointer-events-none inline-block h-5 w-5 transform rounded-full bg-white shadow ring-0 transition duration-200 ease-in-out"])},null,2)]),_:1},8,["modelValue","class"])]),_:1}))}},xe={class:"flex flex-col bg-slate-50 border mb-4"},_e={class:"flex p-4 items-center w-full justify-center"},we={role:"list",class:"grid grid-cols-4 gap-x-4 gap-y-8 sm:grid-cols-6 sm:gap-x-6 lg:grid-cols-8 xl:gap-x-8"},ke=["onClick"],je=["src","alt"],Se={class:"ml-2 text-sm font-medium text-gray-500"},$e={key:0},Ce={__name:"DelicaSelector",props:{delicas:Object},setup(s){const o=N(),a=t=>{let i="";return o.delica!==null&&t.id===o.delica.id?i+="border-black":i+="border-gray-300",i+=" bg-red from-red-400 via-red-500 to-red-900",i};return(t,i)=>(d(),u("div",xe,[l("div",_e,[l("ul",we,[(d(!0),u(x,null,k(s.delicas,n=>(d(),u("li",{key:n.id,onClick:r=>t.$emit("delicaSelected",n),class:V(["flex cursor-pointer items-center bg-white border p-1 rounded-md",a(n)])},[l("img",{src:n.image_photo_url,alt:n.name,class:"object-none group-hover:opacity-75 h-10 w-10 rounded-md"},null,8,je),l("span",Se,T(n.code),1)],10,ke))),128))]),s.delicas.length===0?(d(),u("div",$e," No delicas match your search or you dont have any delicas created yet. ")):$("",!0)])]))}},De={class:"w-full h-full relative"},Te=l("div",{class:"h-full w-full absolute z-10 rounded-sm bg-gradient-to-r from-gray-50 via-white to-black opacity-25"},null,-1),Ve=["src","alt"],Pe={key:1,class:"left-1 px-0.5 text-2xs bg-stone-600 rounded text-center leading-none align-middle text-gray-300 font-semibold absolute top-0.5"},Ne={__name:"Bead",props:{initialDelica:null,badge:null},setup(s){const o=s,a=N(),t=m(o.initialDelica),i=r=>{a.delica!==null&&(t.value===null||a.delica.id!==t.value.id)&&(t.value=a.delica,r("setDelica",t.value.id))},n=r=>{t.value=null,r("setDelica",null)};return(r,g)=>(d(),u("div",{class:"border border-gray-300 rounded-sm cursor-pointer h-full w-full mr-1",onClick:g[0]||(g[0]=b=>i(r.$emit)),onDblclick:g[1]||(g[1]=b=>n(r.$emit))},[l("div",De,[Te,t.value?(d(),u("img",{key:0,src:t.value.image_color_url,alt:t.value.name,class:"object-none rounded-sm z-0 h-full w-full"},null,8,Ve)):$("",!0),h(a).guides&&s.badge?(d(),u("div",Pe,T(s.badge),1)):$("",!0)])],32))}},Oe={class:"border border-gray-300 rounded-xs h-full w-full mr-1"},Be={class:"w-full h-full relative"},Le=l("div",{class:"h-full w-full absolute z-10 rounded-xs bg-gradient-to-r from-gray-50 via-white to-black opacity-25"},null,-1),ze=["src","alt"],Ue={__name:"PreviewBead",props:{delica:null},setup(s){return(o,a)=>(d(),u("div",Oe,[l("div",Be,[Le,s.delica?(d(),u("img",{key:0,src:s.delica.image_color_url,alt:s.delica.name,class:"object-none rounded-xs z-0 h-full w-full"},null,8,ze)):$("",!0)])]))}},Ee={class:"font-semibold text-xl text-gray-800 leading-tight"},Fe={class:"max-w-full"},Ge={class:"bg-white overflow-hidden shadow-sm sm:rounded-lg p-6 relative"},Ke={class:"flex p-4 items-center w-full justify-start"},Ie={class:"isolate flex -space-x-px rounded-md shadow-sm bg-white"},He={class:"relative rounded-md rounded-r-none px-3 pb-1.5 pt-2.5 ring-1 ring-inset ring-gray-300 focus-within:z-10 focus-within:ring-2 focus-within:ring-indigo-600 flex flex-col justify-between"},Me={class:"relative rounded-md rounded-l-none rounded-r-none px-3 pb-1.5 pt-2.5 ring-1 ring-inset ring-gray-300 focus-within:z-10 focus-within:ring-2 focus-within:ring-indigo-600 flex flex-col justify-between w-24"},qe=l("label",{for:"cols",class:"block text-xs font-medium text-gray-500 text-right"},"Longitude",-1),Re={class:"relative rounded-md rounded-l-none rounded-r-none px-3 pb-1.5 pt-2.5 ring-1 ring-inset ring-gray-300 focus-within:z-10 focus-within:ring-2 focus-within:ring-indigo-600 flex flex-col justify-between w-24"},Ae=l("label",{for:"rows",class:"block text-xs font-medium text-gray-500 text-right"},"Width",-1),We={class:"relative rounded-md rounded-l-none rounded-r-none px-3 pb-1.5 pt-2.5 ring-1 ring-inset ring-gray-300 focus-within:z-10 focus-within:ring-2 focus-within:ring-indigo-600 flex flex-col justify-between w-36"},Je=l("label",{for:"type",class:"block text-xs font-medium text-gray-500 text-right"},"Type",-1),Ye=l("option",{value:"Square"},"Square",-1),Ze=l("option",{value:"Peyote"},"Peyote",-1),Qe=[Ye,Ze],Xe={class:"relative rounded-md rounded-l-none px-3 pb-1.5 pt-2.5 ring-1 ring-inset ring-gray-300 focus-within:z-10 focus-within:ring-2 focus-within:ring-indigo-600 flex flex-col justify-between w-64"},et=l("label",{for:"rows",class:"block text-xs font-medium text-gray-500 text-right"},"Name",-1),tt={class:"p-4 w-full border mb-4 justify-center bg-slate-50 overflow-x-auto"},lt={key:0,class:"w-4 absolute left-1"},st={class:"h-4 w-5 text-xs text-center border border-transparent text-gray-400 leading-none"},nt={class:"flex"},ot=l("div",{class:"w-4 bg-gradient-to-r from-slate-300 via-slate-100 to-slate-400"},[l("div",{class:"h-4 w-5"})],-1),at={key:0,class:"w-4 -mt-4"},it={class:"gap-px flex"},rt={class:"h-4 w-5 text-xs text-center border border-transparent text-gray-400 leading-none"},dt=l("div",{class:"w-4 bg-gradient-to-r from-slate-300 via-slate-100 to-slate-400"},[l("div",{class:"h-4 w-5"})],-1),ut={class:"p-4 w-full border mb-4 justify-center bg-slate-50 overflow-x-auto"},ct={class:"flex justify-center"},pt=l("div",{class:"w-4 bg-gradient-to-r from-slate-300 via-slate-100 to-slate-400"},[l("div",{class:"h-4 w-5"})],-1),gt=l("div",{class:"w-4 bg-gradient-to-r from-slate-300 via-slate-100 to-slate-400"},[l("div",{class:"h-4 w-5"})],-1),bt={__name:"Show",props:{project:Object,beads:Object,delicas:Object},setup(s){const o=s,a=N(),t=m(o.project.width),i=m(o.project.long),n=m(o.project.type),r=m(o.project.name),g=m(o.beads),b=(v,c)=>g.value.hasOwnProperty(v+"-"+c)?g.value[v+"-"+c]:null,j=(v,c)=>g.value.hasOwnProperty(v+"-"+c)?g.value[v+"-"+c].badge:null,f=F({bead_row:null,bead_col:null,bead_delica:null}),y=F({width:null,long:null,type:null,name:null});function C(v,c,e){f.bead_row=c,f.bead_col=e,f.bead_delica=v,f.put("/projects/"+o.project.id,{preserveState:!0,preserveScroll:!0,onSuccess:p=>{g.value=p.props.beads}})}function _(){y.width=t,y.long=i,y.type=n,y.name=r,y.put("/projects/"+o.project.id,{preserveState:!0,preserveScroll:!0})}return(v,c)=>(d(),u(x,null,[S(h(le),{title:"Project Details"}),S(ce,null,{header:D(()=>[l("h2",Ee,T(s.project.name),1)]),default:D(()=>[l("div",Fe,[l("div",Ge,[l("div",Ke,[l("div",Ie,[l("div",He,[S(ye)]),l("div",Me,[qe,P(l("input",{"onUpdate:modelValue":c[0]||(c[0]=e=>i.value=e),onChange:_,type:"number",name:"cols",id:"cols",class:"mt-2 block w-full border-0 p-0 py-1.5 pl-3 pr-1 text-gray-900 placeholder:text-gray-400 focus:ring-0 sm:text-sm sm:leading-6 text-right",placeholder:"How long is the bracelet"},null,544),[[B,i.value,void 0,{number:!0}]])]),l("div",Re,[Ae,P(l("input",{"onUpdate:modelValue":c[1]||(c[1]=e=>t.value=e),onChange:_,type:"number",name:"rows",id:"rows",class:"mt-2 block w-full border-0 p-0 py-1.5 pl-3 pr-1 text-gray-900 placeholder:text-gray-400 focus:ring-0 sm:text-sm sm:leading-6 text-right",placeholder:"Width of the bracelet"},null,544),[[B,t.value,void 0,{number:!0}]])]),l("div",We,[Je,P(l("select",{"onUpdate:modelValue":c[2]||(c[2]=e=>n.value=e),id:"type",name:"type",onChange:_,class:"mt-2 block w-full rounded-md border-0 py-1.5 pl-3 pr-10 text-gray-900 ring-1 ring-inset ring-gray-300 focus:ring-2 focus:ring-indigo-600 sm:text-sm sm:leading-6"},Qe,544),[[se,n.value]])]),l("div",Xe,[et,P(l("input",{"onUpdate:modelValue":c[3]||(c[3]=e=>r.value=e),onChange:_,type:"text",name:"name",id:"name",class:"mt-2 block w-full border-0 p-0 py-1.5 pl-3 pr-1 text-gray-900 placeholder:text-gray-400 focus:ring-0 sm:text-sm sm:leading-6 text-right",placeholder:"Name of this project"},null,544),[[B,r.value]])])])]),S(Ce,{delicas:s.delicas,onDelicaSelected:c[4]||(c[4]=e=>h(a).setDelica(e))},null,8,["delicas"]),l("div",tt,[h(a).guides?(d(),u("div",lt,[(d(!0),u(x,null,k(t.value,e=>(d(),u("div",{key:"guides-row-"+e,class:"gap-px flex"},[l("div",st,T(e),1)]))),128))])):$("",!0),l("div",nt,[ot,l("div",null,[h(a).guides?(d(),u("div",at,[l("div",it,[(d(!0),u(x,null,k(i.value,e=>(d(),u("div",{key:"guides-col-"+e,class:"h-4 w-5"},[l("div",rt,T(e),1)]))),128))])])):$("",!0),(d(!0),u(x,null,k(t.value,e=>(d(),u("div",{key:"row-"+e,class:V(["gap-px flex",{"ml-2":n.value==="Peyote"&&e%2==0}])},[(d(!0),u(x,null,k(i.value,p=>(d(),u("div",{key:"col-"+p,class:"h-4 w-5"},[(d(),L(Ne,{key:e+"-"+p,onSetDelica:O=>C(O,e,p),"initial-delica":b(e,p),badge:j(e,p)},null,8,["onSetDelica","initial-delica","badge"]))]))),128))],2))),128))]),dt])]),l("div",ut,[l("div",ct,[pt,l("div",null,[(d(!0),u(x,null,k(t.value,e=>(d(),u("div",{key:"row-"+e,class:V(["gap-px flex",{"ml-1":n.value==="Peyote"&&e%2==0}])},[(d(!0),u(x,null,k(i.value,p=>(d(),u("div",{key:"col-"+p,class:"h-2 w-2.5"},[(d(),L(Ue,{key:e+"-"+p,delica:b(e,p)},null,8,["delica"]))]))),128))],2))),128))]),gt])])])])]),_:1})],64))}};export{bt as default};
