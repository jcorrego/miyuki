import{m as _,h as T,E as te,G as q,y as le,z as pe,u,H as oe,x as W,I as Y,F as j,o as a,f as c,b as e,J as ve,c as K,w as D,a as y,d as S,n as w,p as A,L as Z,t as P,k as fe,g as B,T as Q,Z as ge,i as N,l as R,q as X}from"./app-8c9c73b6.js";import{t as ne,H as J,c as he,d as me,o as be,f as xe,K as we,e as ye,T as _e,i as ee,_ as ke}from"./AuthenticatedLayout-95f5f9b3.js";import"./ApplicationLogo-452dee72.js";import"./_plugin-vue_export-helper-c27b6911.js";function $e(l){var t;let r=(t=l==null?void 0:l.form)!=null?t:l.closest("form");if(r){for(let i of r.elements)if(i.tagName==="INPUT"&&i.type==="submit"||i.tagName==="BUTTON"&&i.type==="submit"||i.nodeName==="INPUT"&&i.type==="image"){i.click();return}}}function Se(l,t,r){let i=_(r==null?void 0:r.value),p=T(()=>l.value!==void 0);return[T(()=>p.value?l.value:i.value),function(v){return p.value||(i.value=v),t==null?void 0:t(v)}]}let ie=Symbol("LabelContext");function se(){let l=oe(ie,null);if(l===null){let t=new Error("You used a <Label /> component, but it is not inside a parent.");throw Error.captureStackTrace&&Error.captureStackTrace(t,se),t}return l}function Ce({slot:l={},name:t="Label",props:r={}}={}){let i=_([]);function p(v){return i.value.push(v),()=>{let g=i.value.indexOf(v);g!==-1&&i.value.splice(g,1)}}return te(ie,{register:p,slot:l,name:t,props:r}),T(()=>i.value.length>0?i.value.join(" "):void 0)}let je=q({name:"Label",props:{as:{type:[Object,String],default:"label"},passive:{type:[Boolean],default:!1},id:{type:String,default:()=>`headlessui-label-${ne()}`}},setup(l,{slots:t,attrs:r}){let i=se();return le(()=>pe(i.register(l.id))),()=>{let{name:p="Label",slot:v={},props:g={}}=i,{id:x,passive:h,...f}=l,s={...Object.entries(g).reduce((z,[O,L])=>Object.assign(z,{[O]:u(L)}),{}),id:x};return h&&(delete s.onClick,delete s.htmlFor,delete f.onClick),J({ourProps:s,theirProps:f,slot:v,attrs:r,slots:t,name:p})}}}),re=Symbol("GroupContext"),Te=q({name:"SwitchGroup",props:{as:{type:[Object,String],default:"template"}},setup(l,{slots:t,attrs:r}){let i=_(null),p=Ce({name:"SwitchLabel",props:{htmlFor:T(()=>{var g;return(g=i.value)==null?void 0:g.id}),onClick(g){i.value&&(g.currentTarget.tagName==="LABEL"&&g.preventDefault(),i.value.click(),i.value.focus({preventScroll:!0}))}}}),v=he({name:"SwitchDescription"});return te(re,{switchRef:i,labelledby:p,describedby:v}),()=>J({theirProps:l,ourProps:{},slot:{},slots:t,attrs:r,name:"SwitchGroup"})}}),ze=q({name:"Switch",emits:{"update:modelValue":l=>!0},props:{as:{type:[Object,String],default:"button"},modelValue:{type:Boolean,default:void 0},defaultChecked:{type:Boolean,optional:!0},form:{type:String,optional:!0},name:{type:String,optional:!0},value:{type:String,optional:!0},id:{type:String,default:()=>`headlessui-switch-${ne()}`}},inheritAttrs:!1,setup(l,{emit:t,attrs:r,slots:i,expose:p}){let v=oe(re,null),[g,x]=Se(T(()=>l.modelValue),m=>t("update:modelValue",m),T(()=>l.defaultChecked));function h(){x(!g.value)}let f=_(null),s=v===null?f:v.switchRef,z=me(T(()=>({as:l.as,type:r.type})),s);p({el:s,$el:s});function O(m){m.preventDefault(),h()}function L(m){m.key===ee.Space?(m.preventDefault(),h()):m.key===ee.Enter&&$e(m.currentTarget)}function G(m){m.preventDefault()}let C=T(()=>{var m,k;return(k=(m=be(s))==null?void 0:m.closest)==null?void 0:k.call(m,"form")});return le(()=>{W([C],()=>{if(!C.value||l.defaultChecked===void 0)return;function m(){x(l.defaultChecked)}return C.value.addEventListener("reset",m),()=>{var k;(k=C.value)==null||k.removeEventListener("reset",m)}},{immediate:!0})}),()=>{let{id:m,name:k,value:V,form:H,...I}=l,F={checked:g.value},U={id:m,ref:s,role:"switch",type:z.value,tabIndex:0,"aria-checked":g.value,"aria-labelledby":v==null?void 0:v.labelledby.value,"aria-describedby":v==null?void 0:v.describedby.value,onClick:O,onKeyup:L,onKeypress:G};return Y(j,[k!=null&&g.value!=null?Y(xe,we({features:ye.Hidden,as:"input",type:"checkbox",hidden:!0,readOnly:!0,checked:g.value,form:H,name:k,value:V})):null,J({ourProps:U,theirProps:{...r,..._e(I,["modelValue","defaultChecked"])},slot:F,attrs:r,slots:i,name:"Switch"})])}}}),Me=je;function Ae(l,t){return a(),c("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},[e("path",{"fill-rule":"evenodd",d:"M3 4.25A2.25 2.25 0 015.25 2h5.5A2.25 2.25 0 0113 4.25v2a.75.75 0 01-1.5 0v-2a.75.75 0 00-.75-.75h-5.5a.75.75 0 00-.75.75v11.5c0 .414.336.75.75.75h5.5a.75.75 0 00.75-.75v-2a.75.75 0 011.5 0v2A2.25 2.25 0 0110.75 18h-5.5A2.25 2.25 0 013 15.75V4.25z","clip-rule":"evenodd"}),e("path",{"fill-rule":"evenodd",d:"M6 10a.75.75 0 01.75-.75h9.546l-1.048-.943a.75.75 0 111.004-1.114l2.5 2.25a.75.75 0 010 1.114l-2.5 2.25a.75.75 0 11-1.004-1.114l1.048-.943H6.75A.75.75 0 016 10z","clip-rule":"evenodd"})])}function Be(l,t){return a(),c("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},[e("path",{"fill-rule":"evenodd",d:"M15.988 3.012A2.25 2.25 0 0118 5.25v6.5A2.25 2.25 0 0115.75 14H13.5v-3.379a3 3 0 00-.879-2.121l-3.12-3.121a3 3 0 00-1.402-.791 2.252 2.252 0 011.913-1.576A2.25 2.25 0 0112.25 1h1.5a2.25 2.25 0 012.238 2.012zM11.5 3.25a.75.75 0 01.75-.75h1.5a.75.75 0 01.75.75v.25h-3v-.25z","clip-rule":"evenodd"}),e("path",{d:"M3.5 6A1.5 1.5 0 002 7.5v9A1.5 1.5 0 003.5 18h7a1.5 1.5 0 001.5-1.5v-5.879a1.5 1.5 0 00-.44-1.06L8.44 6.439A1.5 1.5 0 007.378 6H3.5z"})])}function Le(l,t){return a(),c("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},[e("path",{"fill-rule":"evenodd",d:"M10 1a.75.75 0 01.75.75v1.5a.75.75 0 01-1.5 0v-1.5A.75.75 0 0110 1zM5.05 3.05a.75.75 0 011.06 0l1.062 1.06A.75.75 0 116.11 5.173L5.05 4.11a.75.75 0 010-1.06zm9.9 0a.75.75 0 010 1.06l-1.06 1.062a.75.75 0 01-1.062-1.061l1.061-1.06a.75.75 0 011.06 0zM3 8a.75.75 0 01.75-.75h1.5a.75.75 0 010 1.5h-1.5A.75.75 0 013 8zm11 0a.75.75 0 01.75-.75h1.5a.75.75 0 010 1.5h-1.5A.75.75 0 0114 8zm-6.828 2.828a.75.75 0 010 1.061L6.11 12.95a.75.75 0 01-1.06-1.06l1.06-1.06a.75.75 0 011.06 0zm3.594-3.317a.75.75 0 00-1.37.364l-.492 6.861a.75.75 0 001.204.65l1.043-.799.985 3.678a.75.75 0 001.45-.388l-.978-3.646 1.292.204a.75.75 0 00.74-1.16l-3.874-5.764z","clip-rule":"evenodd"})])}function Ve(l,t){return a(),c("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},[e("path",{d:"M7 3.5A1.5 1.5 0 018.5 2h3.879a1.5 1.5 0 011.06.44l3.122 3.12A1.5 1.5 0 0117 6.622V12.5a1.5 1.5 0 01-1.5 1.5h-1v-3.379a3 3 0 00-.879-2.121L10.5 5.379A3 3 0 008.379 4.5H7v-1z"}),e("path",{d:"M4.5 6A1.5 1.5 0 003 7.5v9A1.5 1.5 0 004.5 18h7a1.5 1.5 0 001.5-1.5v-5.879a1.5 1.5 0 00-.44-1.06L9.44 6.439A1.5 1.5 0 008.378 6H4.5z"})])}function De(l,t){return a(),c("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},[e("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM6.75 9.25a.75.75 0 000 1.5h6.5a.75.75 0 000-1.5h-6.5z","clip-rule":"evenodd"})])}function Pe(l,t){return a(),c("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},[e("path",{d:"M15.993 1.385a1.87 1.87 0 012.623 2.622l-4.03 5.27a12.749 12.749 0 01-4.237 3.562 4.508 4.508 0 00-3.188-3.188 12.75 12.75 0 013.562-4.236l5.27-4.03zM6 11a3 3 0 00-3 3 .5.5 0 01-.72.45.75.75 0 00-1.035.931A4.001 4.001 0 009 14.004V14a3.01 3.01 0 00-1.66-2.685A2.99 2.99 0 006 11z"})])}function Oe(l,t){return a(),c("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},[e("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm.75-11.25a.75.75 0 00-1.5 0v2.5h-2.5a.75.75 0 000 1.5h2.5v2.5a.75.75 0 001.5 0v-2.5h2.5a.75.75 0 000-1.5h-2.5v-2.5z","clip-rule":"evenodd"})])}function Ne(l,t){return a(),c("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},[e("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.28 7.22a.75.75 0 00-1.06 1.06L8.94 10l-1.72 1.72a.75.75 0 101.06 1.06L10 11.06l1.72 1.72a.75.75 0 101.06-1.06L11.06 10l1.72-1.72a.75.75 0 00-1.06-1.06L10 8.94 8.28 7.22z","clip-rule":"evenodd"})])}const E=ve("tools",{state:()=>({guides:!1,delica:null,tool:"paint",selectTool:"add",clipboard:null}),getters:{},actions:{setDelica(l){this.delica=l,this.selectTool=!1},setSelectTool(l){this.selectTool=l},activateTool(l){this.tool=l},toggleGuides(){this.guides=!this.guides}}}),Ue={__name:"GuidesToggle",setup(l){const t=E(),r=_(!1);return W(r,async(i,p)=>{t.toggleGuides()}),(i,p)=>(a(),K(u(Te),{as:"div",class:"flex flex-col justify-between h-full"},{default:D(()=>[y(u(Me),{as:"span",class:"text-xs font-medium text-gray-500 text-right",passive:""},{default:D(()=>[S("Show guides")]),_:1}),y(u(ze),{onChange:p[0]||(p[0]=v=>u(t).toggleGuides()),modelValue:r.value,"onUpdate:modelValue":p[1]||(p[1]=v=>r.value=v),class:w([r.value?"bg-indigo-600":"bg-gray-200","relative inline-flex h-6 w-11 flex-shrink-0 cursor-pointer rounded-full border-2 border-transparent transition-colors duration-200 ease-in-out focus:outline-none focus:ring-2 focus:ring-indigo-600 focus:ring-offset-2"])},{default:D(()=>[e("span",{"aria-hidden":"true",class:w([r.value?"translate-x-5":"translate-x-0","pointer-events-none inline-block h-5 w-5 transform rounded-full bg-white shadow ring-0 transition duration-200 ease-in-out"])},null,2)]),_:1},8,["modelValue","class"])]),_:1}))}},Ee={class:"flex gap-2 p-2 bg-slate-200 border mb-4 rounded-md"},Ge=e("div",{class:"border-r border-gray-300 h-10 w-1"},null,-1),He={key:0,class:"flex-1"},Ie={key:0,class:"flex flex-wrap gap-2 items-center h-full"},Fe=["onClick"],Re={class:"flex flex-col justify-center items-start text-xs h-10 leading-none rounded-r-md border border-l-0 px-2"},Ke={class:"font-semibold text-sm"},qe={key:1,class:"text-gray-500 flex items-center h-full"},We={key:1,class:"h-10 flex-1"},Ze={class:"flex gap-2 items-center h-full"},Je=e("div",{class:"border-r border-gray-300 h-10 w-1"},null,-1),Ye={__name:"Toolbox",props:{delicas:Object},setup(l){const t=E(),r=h=>{let f="";return t.delica!==null&&h.id===t.delica.id?f+="bg-indigo-500 text-white":f+="bg-white text-gray-500",f};function i(h){t.setSelectTool("clear"),h("clear-selection"),setTimeout(p,500)}function p(){t.setSelectTool("add")}function v(h){t.setSelectTool("mirror"),h("mirror-selection"),setTimeout(p,500)}function g(h){t.setSelectTool("copy"),h("copy-selection"),setTimeout(p,500)}function x(h){t.setSelectTool("paste"),h("paste-selection"),setTimeout(p,500)}return(h,f)=>(a(),c("div",Ee,[e("div",{onClick:f[0]||(f[0]=s=>u(t).activateTool("select")),class:w(["flex cursor-pointer items-center justify-center p-1 rounded-md border-2 h-10 w-10",[u(t).tool==="select"?"bg-indigo-500 text-white border-indigo-500":"bg-white border-gray-300"]])},[y(u(Le),{class:"h-5 w-5","aria-hidden":"true"})],2),e("div",{onClick:f[1]||(f[1]=s=>u(t).activateTool("paint")),class:w(["flex cursor-pointer items-center justify-center p-1 rounded-md border-2 h-10 w-10",[u(t).tool==="paint"?"bg-indigo-500 text-white border-indigo-500":"bg-white border-gray-300"]])},[y(u(Pe),{class:"h-5 w-5","aria-hidden":"true"})],2),Ge,u(t).tool==="paint"?(a(),c("div",He,[Object.keys(l.delicas).length>0?(a(),c("div",Ie,[(a(!0),c(j,null,A(l.delicas,s=>(a(),c("div",{key:s.id,onClick:z=>u(t).setDelica(s),class:w(["flex cursor-pointer items-center rounded-md",r(s)])},[e("div",{class:"h-10 w-10 rounded-md group-hover:opacity-75",style:Z("background-color:"+s.rgb+";")},null,4),e("div",Re,[e("div",Ke,P(s.code),1),e("div",null,P(s.count)+" beads",1)])],10,Fe))),128))])):(a(),c("div",qe,[e("span",null,[S("No delicas are associated with this proyect yet. Go to "),y(u(fe),{class:"text-indigo-500",href:h.route("delicas.index")},{default:D(()=>[S("Delicas")]),_:1},8,["href"]),S(" list.")])]))])):B("",!0),u(t).tool==="select"?(a(),c("div",We,[e("div",Ze,[e("div",{onClick:f[2]||(f[2]=s=>u(t).setSelectTool("add")),class:w(["flex gap-1 cursor-pointer items-center justify-center p-1 rounded-md border-2 h-10",[u(t).selectTool==="add"?"bg-indigo-400 text-white border-indigo-400":"bg-white text-gray-400 border-gray-300"]])},[y(u(Oe),{class:"h-5 w-5","aria-hidden":"true"}),S(" Add ")],2),e("div",{onClick:f[3]||(f[3]=s=>u(t).setSelectTool("minus")),class:w(["flex gap-1 cursor-pointer items-center justify-center p-1 rounded-md border-2 h-10",[u(t).selectTool==="minus"?"bg-indigo-400 text-white border-indigo-400":"bg-white text-gray-400 border-gray-300"]])},[y(u(De),{class:"h-5 w-5","aria-hidden":"true"}),S(" Remove ")],2),Je,e("div",{onClick:f[4]||(f[4]=s=>i(h.$emit)),class:w(["flex gap-1 cursor-pointer items-center justify-center p-1 rounded-md border-2 h-10",[u(t).selectTool==="clear"?"bg-indigo-400 text-white border-indigo-400":"bg-white text-gray-400 border-gray-300"]])},[y(u(Ne),{class:"h-5 w-5","aria-hidden":"true"}),S(" Clear ")],2),e("div",{onClick:f[5]||(f[5]=s=>v(h.$emit)),class:w(["flex gap-1 cursor-pointer items-center justify-center p-1 rounded-md border-2 h-10",[u(t).selectTool==="mirror"?"bg-indigo-400 text-white border-indigo-400":"bg-white text-gray-400 border-gray-300"]])},[y(u(Ae),{class:"h-5 w-5","aria-hidden":"true"}),S(" Mirror ")],2),e("div",{onClick:f[6]||(f[6]=s=>g(h.$emit)),class:w(["flex gap-1 cursor-pointer items-center justify-center p-1 rounded-md border-2 h-10",[u(t).selectTool==="copy"?"bg-indigo-400 text-white border-indigo-400":"bg-white text-gray-400 border-gray-300"]])},[y(u(Ve),{class:"h-5 w-5","aria-hidden":"true"}),S(" Copy ")],2),e("div",{onClick:f[7]||(f[7]=s=>x(h.$emit)),class:w(["flex gap-1 cursor-pointer items-center justify-center p-1 rounded-md border-2 h-10",[u(t).selectTool==="paste"?"bg-indigo-400 text-white border-indigo-400":"bg-white text-gray-400 border-gray-300"]])},[y(u(Be),{class:"h-5 w-5","aria-hidden":"true"}),S(" Paste ")],2)])])):B("",!0)]))}},Qe={class:"w-full h-full"},Xe={key:0,class:"px-0.5 text-2xs bg-stone-600 rounded leading-none text-gray-300 font-semibold"},et={__name:"Bead",props:{initialDelica:null,badge:null},setup(l){const t=l,r=E(),i=_(t.initialDelica),p=()=>{r.tool==="paint"&&r.delica!==null&&(i.value=r.delica)},v=()=>{i.value=null};return W(()=>t.initialDelica,(g,x)=>{if(g!==null){x!==null&&g.id!==x.id&&(i.value=g,console.log("newDelica",g));return}}),(g,x)=>(a(),c("div",{class:"border border-gray-300 rounded-sm cursor-pointer h-full w-full mr-1",onClick:x[0]||(x[0]=h=>p()),onDblclick:x[1]||(x[1]=h=>v())},[e("div",Qe,[i.value&&i.value.rgb?(a(),c("div",{key:0,class:"h-full w-full rounded-sm flex items-center justify-center hover:opacity-75",style:Z("background-color:"+i.value.rgb+";")},[u(r).guides&&l.badge?(a(),c("span",Xe,P(l.badge),1)):B("",!0)],4)):B("",!0)])],32))}},tt={class:"border border-gray-300 rounded-xs h-full w-full mr-1"},lt={class:"w-full h-full relative"},ot=e("div",{class:"h-full w-full absolute z-10 rounded-xs bg-gradient-to-r from-gray-50 via-white to-black opacity-10"},null,-1),nt={__name:"PreviewBead",props:{delica:null},setup(l){return(t,r)=>(a(),c("div",tt,[e("div",lt,[ot,l.delica&&l.delica.rgb?(a(),c("div",{key:0,class:"h-full w-full absolute z-0 rounded-sm",style:Z("background-color:"+l.delica.rgb+";")},null,4)):B("",!0)])]))}},it={class:"font-semibold text-xl text-gray-800 leading-tight"},st={class:"bg-white overflow-hidden shadow-sm sm:rounded-lg p-6 relative"},rt={class:"flex items-center w-full justify-start mb-4"},at={class:"isolate flex -space-x-px rounded-md shadow-sm bg-white"},dt={class:"relative rounded-md rounded-r-none px-3 pb-1.5 pt-2.5 ring-1 ring-inset ring-gray-300 focus-within:z-10 focus-within:ring-2 focus-within:ring-indigo-600 flex flex-col justify-between"},ut={class:"relative rounded-md rounded-l-none rounded-r-none px-3 pb-1.5 pt-2.5 ring-1 ring-inset ring-gray-300 focus-within:z-10 focus-within:ring-2 focus-within:ring-indigo-600 flex flex-col justify-between w-24"},ct=e("label",{for:"cols",class:"block text-xs font-medium text-gray-500 text-right"},"Longitude",-1),pt={class:"relative rounded-md rounded-l-none rounded-r-none px-3 pb-1.5 pt-2.5 ring-1 ring-inset ring-gray-300 focus-within:z-10 focus-within:ring-2 focus-within:ring-indigo-600 flex flex-col justify-between w-24"},vt=e("label",{for:"rows",class:"block text-xs font-medium text-gray-500 text-right"},"Width",-1),ft={class:"relative rounded-md rounded-l-none rounded-r-none px-3 pb-1.5 pt-2.5 ring-1 ring-inset ring-gray-300 focus-within:z-10 focus-within:ring-2 focus-within:ring-indigo-600 flex flex-col justify-between w-36"},gt=e("label",{for:"type",class:"block text-xs font-medium text-gray-500 text-right"},"Type",-1),ht=e("option",{value:"Square"},"Square",-1),mt=e("option",{value:"Peyote"},"Peyote",-1),bt=[ht,mt],xt={class:"relative rounded-md rounded-l-none rounded-r-none px-3 pb-1.5 pt-2.5 ring-1 ring-inset ring-gray-300 focus-within:z-10 focus-within:ring-2 focus-within:ring-indigo-600 flex flex-col justify-between w-36"},wt=e("label",{for:"zoom",class:"block text-xs font-medium text-gray-500 text-right"},"Zoom",-1),yt=e("option",{value:"1"},"Small",-1),_t=e("option",{value:"2"},"Medium",-1),kt=e("option",{value:"3"},"Large",-1),$t=[yt,_t,kt],St={class:"relative rounded-md rounded-l-none px-3 pb-1.5 pt-2.5 ring-1 ring-inset ring-gray-300 focus-within:z-10 focus-within:ring-2 focus-within:ring-indigo-600 flex flex-col justify-between w-64"},Ct=e("label",{for:"rows",class:"block text-xs font-medium text-gray-500 text-right"},"Name",-1),jt={class:"py-5 w-full border mb-4 justify-center bg-slate-50 overflow-x-auto"},Tt={key:0,class:"absolute left-1 flex flex-col text-xs text-gray-400 leading-none"},zt={class:"flex"},Mt=e("div",{class:"w-5 bg-gradient-to-r from-slate-300 via-slate-100 to-slate-400"},[e("div",{class:"h-5 w-6"})],-1),At={class:"relative"},Bt={key:0,class:"absolute -top-5"},Lt={class:"gap-px flex text-xs text-gray-400 leading-none"},Vt={class:"text-center"},Dt=e("div",{class:"w-5 bg-gradient-to-r from-slate-300 via-slate-100 to-slate-400"},[e("div",{class:"h-5 w-6"})],-1),Pt={class:"p-4 w-full border mb-4 justify-center bg-slate-50 overflow-x-auto"},Ot={class:"flex justify-center"},Nt=e("div",{class:"w-4 bg-gradient-to-r from-slate-300 via-slate-100 to-slate-400"},[e("div",{class:"h-4 w-5"})],-1),Ut=e("div",{class:"w-4 bg-gradient-to-r from-slate-300 via-slate-100 to-slate-400"},[e("div",{class:"h-4 w-5"})],-1),Ft={__name:"Show",props:{project:Object,beads:Object,delicas:Object},setup(l){const t=l,r=E(),i=_(t.project.width),p=_(t.project.long),v=_(t.project.type),g=_(t.project.name),x=_(t.beads),h=_(2),f=_(!1),s=_([]),z=T(()=>h.value==1?"h-4 w-5":h.value==2?"h-5 w-6":h.value==3?"h-6 w-7":"h-5 w-6"),O=(d,n)=>s.value.includes(d+"-"+n),L=(d,n)=>x.value.hasOwnProperty(d+"-"+n)?x.value[d+"-"+n]:null,G=(d,n)=>x.value.hasOwnProperty(d+"-"+n)?x.value[d+"-"+n].badge:null,C=Q({bead_row:null,bead_col:null,bead_delica:null}),m=Q({width:null,long:null,type:null,name:null});function k(d,n,o){C.bead_row=n,C.bead_col=o,C.bead_delica=d,C.put("/projects/"+t.project.id,{preserveState:!0,preserveScroll:!0,onSuccess:b=>{x.value=b.props.beads}})}function V(){m.width=i,m.long=p,m.type=v,m.name=g,m.put("/projects/"+t.project.id,{preserveState:!0,preserveScroll:!0})}function H(d,n){r.tool==="paint"&&r.delica!==null&&k(r.delica.id,d,n)}function I(d,n){k(null,d,n)}function F(d,n){r.tool==="select"&&(f.value=!0,r.selectTool==="add"?s.value.includes(d+"-"+n)||s.value.push(d+"-"+n):s.value.includes(d+"-"+n)&&(s.value=s.value.filter(o=>o!==d+"-"+n)))}function U(d,n){r.tool==="select"&&(f.value=!1)}function ae(d,n){r.tool==="select"&&f.value&&(r.selectTool==="add"?s.value.includes(d+"-"+n)||s.value.push(d+"-"+n):s.value.includes(d+"-"+n)&&(s.value=s.value.filter(o=>o!==d+"-"+n)))}function de(){let d=[];s.value.forEach(function(n){let o=n.split("-")[0],b=n.split("-")[1],$=o,M=parseInt(p.value)-parseInt(b)+1;d.push($+"-"+M)}),s.value=d}function ue(){s.value.sort(function(d,n){let o=d.split("-")[0],b=d.split("-")[1],$=n.split("-")[0],M=n.split("-")[1];return o<$?-1:o>$?1:b<M?-1:b>M?1:0}),r.clipboard=s.value,s.value=[]}function ce(){let d=s.value[0],n=parseInt(d.split("-")[0]),o=parseInt(d.split("-")[1]);r.clipboard.forEach(function(b){let $=b.split("-")[0],M=b.split("-")[1];x.value.hasOwnProperty($+"-"+M)?k(x.value[$+"-"+M].id,n,o):k(null,n,o)})}return(d,n)=>(a(),c(j,null,[y(u(ge),{title:"Project Details"}),y(ke,null,{header:D(()=>[e("h2",it,P(l.project.name),1)]),default:D(()=>[e("div",{class:"max-w-full",onMouseup:n[6]||(n[6]=o=>U(d.row,d.col))},[e("div",st,[e("div",rt,[e("div",at,[e("div",dt,[y(Ue)]),e("div",ut,[ct,N(e("input",{"onUpdate:modelValue":n[0]||(n[0]=o=>p.value=o),onChange:V,type:"number",name:"cols",id:"cols",class:"mt-2 block w-full border-0 p-0 py-1.5 pl-3 pr-1 text-gray-900 placeholder:text-gray-400 focus:ring-0 sm:text-sm sm:leading-6 text-right",placeholder:"How long is the bracelet"},null,544),[[R,p.value,void 0,{number:!0}]])]),e("div",pt,[vt,N(e("input",{"onUpdate:modelValue":n[1]||(n[1]=o=>i.value=o),onChange:V,type:"number",name:"rows",id:"rows",class:"mt-2 block w-full border-0 p-0 py-1.5 pl-3 pr-1 text-gray-900 placeholder:text-gray-400 focus:ring-0 sm:text-sm sm:leading-6 text-right",placeholder:"Width of the bracelet"},null,544),[[R,i.value,void 0,{number:!0}]])]),e("div",ft,[gt,N(e("select",{"onUpdate:modelValue":n[2]||(n[2]=o=>v.value=o),id:"type",name:"type",onChange:V,class:"mt-2 block w-full rounded-md border-0 py-1.5 pl-3 pr-10 text-gray-900 ring-1 ring-inset ring-gray-300 focus:ring-2 focus:ring-indigo-600 sm:text-sm sm:leading-6"},bt,544),[[X,v.value]])]),e("div",xt,[wt,N(e("select",{"onUpdate:modelValue":n[3]||(n[3]=o=>h.value=o),id:"zoom",name:"type",class:"mt-2 block w-full rounded-md border-0 py-1.5 pl-3 pr-10 text-gray-900 ring-1 ring-inset ring-gray-300 focus:ring-2 focus:ring-indigo-600 sm:text-sm sm:leading-6"},$t,512),[[X,h.value]])]),e("div",St,[Ct,N(e("input",{"onUpdate:modelValue":n[4]||(n[4]=o=>g.value=o),onChange:V,type:"text",name:"name",id:"name",class:"mt-2 block w-full border-0 p-0 py-1.5 pl-3 pr-1 text-gray-900 placeholder:text-gray-400 focus:ring-0 sm:text-sm sm:leading-6 text-right",placeholder:"Name of this project"},null,544),[[R,g.value]])])])]),y(Ye,{delicas:l.delicas,onClearSelection:n[5]||(n[5]=o=>s.value=[]),onMirrorSelection:de,onCopySelection:ue,onPasteSelection:ce},null,8,["delicas"]),e("div",jt,[u(r).guides?(a(),c("div",Tt,[(a(!0),c(j,null,A(i.value,o=>(a(),c("div",{key:"guides-row-"+o,class:w(["flex items-center justify-center",u(z)])},P(o),3))),128))])):B("",!0),e("div",zt,[Mt,e("div",At,[u(r).guides?(a(),c("div",Bt,[e("div",Lt,[(a(!0),c(j,null,A(p.value,o=>(a(),c("div",{key:"guides-col-"+o,class:w(["flex items-center justify-center h-5",u(z)])},[e("div",Vt,P(o),1)],2))),128))])])):B("",!0),(a(!0),c(j,null,A(i.value,o=>(a(),c("div",{key:"row-"+o,class:w(["gap-px flex select-none",{"ml-2":v.value==="Peyote"&&o%2==0}])},[(a(!0),c(j,null,A(p.value,b=>(a(),c("div",{key:"col-"+b,class:w([O(o,b)?"border-2 border-indigo-500":"",u(z)])},[(a(),K(et,{key:o+"-"+b,"initial-delica":L(o,b),badge:G(o,b),onClick:$=>H(o,b),onDblclick:$=>I(o,b),onMousedown:$=>F(o,b),onMouseup:$=>U(o,b),onMouseover:$=>ae(o,b)},null,8,["initial-delica","badge","onClick","onDblclick","onMousedown","onMouseup","onMouseover"]))],2))),128))],2))),128))]),Dt])]),e("div",Pt,[e("div",Ot,[Nt,e("div",null,[(a(!0),c(j,null,A(i.value,o=>(a(),c("div",{key:"row-"+o,class:w(["gap-px flex",{"ml-1":v.value==="Peyote"&&o%2==0}])},[(a(!0),c(j,null,A(p.value,b=>(a(),c("div",{key:"col-"+b,class:"h-2 w-2.5"},[(a(),K(nt,{key:o+"-"+b,delica:L(o,b)},null,8,["delica"]))]))),128))],2))),128))]),Ut])])])],32)]),_:1})],64))}};export{Ft as default};
