import{m as x,h as _,E as G,G as B,y as K,z as X,u as h,H as I,x as H,I as E,F as w,J as ee,o as d,c as L,w as D,a as $,d as te,n as S,b as t,f as c,p as j,t as P,g as T,T as z,Z as le,i as V,l as N,q as se}from"./app-fcf08f51.js";import{t as M,H as U,M as oe,b as ne,o as re,f as ae,K as ie,a as de,T as ue,c as F,_ as ce}from"./AuthenticatedLayout-cd1630a8.js";import"./ApplicationLogo-102a4ea7.js";import"./_plugin-vue_export-helper-c27b6911.js";function pe(s){var l;let n=(l=s==null?void 0:s.form)!=null?l:s.closest("form");if(n){for(let e of n.elements)if(e.tagName==="INPUT"&&e.type==="submit"||e.tagName==="BUTTON"&&e.type==="submit"||e.nodeName==="INPUT"&&e.type==="image"){e.click();return}}}function fe(s,l,n){let e=x(n==null?void 0:n.value),a=_(()=>s.value!==void 0);return[_(()=>a.value?s.value:e.value),function(r){return a.value||(e.value=r),l==null?void 0:l(r)}]}let q=Symbol("LabelContext");function R(){let s=I(q,null);if(s===null){let l=new Error("You used a <Label /> component, but it is not inside a parent.");throw Error.captureStackTrace&&Error.captureStackTrace(l,R),l}return s}function ge({slot:s={},name:l="Label",props:n={}}={}){let e=x([]);function a(r){return e.value.push(r),()=>{let u=e.value.indexOf(r);u!==-1&&e.value.splice(u,1)}}return G(q,{register:a,slot:s,name:l,props:n}),_(()=>e.value.length>0?e.value.join(" "):void 0)}let me=B({name:"Label",props:{as:{type:[Object,String],default:"label"},passive:{type:[Boolean],default:!1},id:{type:String,default:()=>`headlessui-label-${M()}`}},setup(s,{slots:l,attrs:n}){let e=R();return K(()=>X(e.register(s.id))),()=>{let{name:a="Label",slot:r={},props:u={}}=e,{id:m,passive:b,...y}=s,f={...Object.entries(u).reduce((C,[k,v])=>Object.assign(C,{[k]:h(v)}),{}),id:m};return b&&(delete f.onClick,delete f.htmlFor,delete y.onClick),U({ourProps:f,theirProps:y,slot:r,attrs:n,slots:l,name:a})}}}),A=Symbol("GroupContext"),ve=B({name:"SwitchGroup",props:{as:{type:[Object,String],default:"template"}},setup(s,{slots:l,attrs:n}){let e=x(null),a=ge({name:"SwitchLabel",props:{htmlFor:_(()=>{var u;return(u=e.value)==null?void 0:u.id}),onClick(u){e.value&&(u.currentTarget.tagName==="LABEL"&&u.preventDefault(),e.value.click(),e.value.focus({preventScroll:!0}))}}}),r=oe({name:"SwitchDescription"});return G(A,{switchRef:e,labelledby:a,describedby:r}),()=>U({theirProps:s,ourProps:{},slot:{},slots:l,attrs:n,name:"SwitchGroup"})}}),he=B({name:"Switch",emits:{"update:modelValue":s=>!0},props:{as:{type:[Object,String],default:"button"},modelValue:{type:Boolean,default:void 0},defaultChecked:{type:Boolean,optional:!0},form:{type:String,optional:!0},name:{type:String,optional:!0},value:{type:String,optional:!0},id:{type:String,default:()=>`headlessui-switch-${M()}`}},inheritAttrs:!1,setup(s,{emit:l,attrs:n,slots:e,expose:a}){let r=I(A,null),[u,m]=fe(_(()=>s.modelValue),i=>l("update:modelValue",i),_(()=>s.defaultChecked));function b(){m(!u.value)}let y=x(null),f=r===null?y:r.switchRef,C=ne(_(()=>({as:s.as,type:n.type})),f);a({el:f,$el:f});function k(i){i.preventDefault(),b()}function v(i){i.key===F.Space?(i.preventDefault(),b()):i.key===F.Enter&&pe(i.currentTarget)}function p(i){i.preventDefault()}let o=_(()=>{var i,g;return(g=(i=re(f))==null?void 0:i.closest)==null?void 0:g.call(i,"form")});return K(()=>{H([o],()=>{if(!o.value||s.defaultChecked===void 0)return;function i(){m(s.defaultChecked)}return o.value.addEventListener("reset",i),()=>{var g;(g=o.value)==null||g.removeEventListener("reset",i)}},{immediate:!0})}),()=>{let{id:i,name:g,value:W,form:J,...Y}=s,Z={checked:u.value},Q={id:i,ref:f,role:"switch",type:C.value,tabIndex:0,"aria-checked":u.value,"aria-labelledby":r==null?void 0:r.labelledby.value,"aria-describedby":r==null?void 0:r.describedby.value,onClick:k,onKeyup:v,onKeypress:p};return E(w,[g!=null&&u.value!=null?E(ae,ie({features:de.Hidden,as:"input",type:"checkbox",hidden:!0,readOnly:!0,checked:u.value,form:J,name:g,value:W})):null,U({ourProps:Q,theirProps:{...n,...ue(Y,["modelValue","defaultChecked"])},slot:Z,attrs:n,slots:e,name:"Switch"})])}}}),be=me;const O=ee("tools",{state:()=>({guides:!1,delica:null}),getters:{},actions:{setDelica(s){this.delica=s},toggleGuides(){this.guides=!this.guides}}}),ye={__name:"GuidesToggle",setup(s){const l=O(),n=x(!1);return H(n,async(e,a)=>{l.toggleGuides()}),(e,a)=>(d(),L(h(ve),{as:"div",class:"flex flex-col justify-between h-full"},{default:D(()=>[$(h(be),{as:"span",class:"text-xs font-medium text-gray-500 text-right",passive:""},{default:D(()=>[te("Show guides")]),_:1}),$(h(he),{onChange:a[0]||(a[0]=r=>h(l).toggleGuides()),modelValue:n.value,"onUpdate:modelValue":a[1]||(a[1]=r=>n.value=r),class:S([n.value?"bg-indigo-600":"bg-gray-200","relative inline-flex h-6 w-11 flex-shrink-0 cursor-pointer rounded-full border-2 border-transparent transition-colors duration-200 ease-in-out focus:outline-none focus:ring-2 focus:ring-indigo-600 focus:ring-offset-2"])},{default:D(()=>[t("span",{"aria-hidden":"true",class:S([n.value?"translate-x-5":"translate-x-0","pointer-events-none inline-block h-5 w-5 transform rounded-full bg-white shadow ring-0 transition duration-200 ease-in-out"])},null,2)]),_:1},8,["modelValue","class"])]),_:1}))}},xe={class:"flex flex-col bg-slate-50 border mb-4"},_e={class:"flex p-4 items-center w-full justify-center"},we={role:"list",class:"grid grid-cols-4 gap-x-4 gap-y-8 sm:grid-cols-6 sm:gap-x-6 lg:grid-cols-8 xl:gap-x-8"},ke=["onClick"],je=["src","alt"],Se={class:"ml-2 text-sm font-medium text-gray-500"},$e={key:0},Ce={__name:"DelicaSelector",props:{delicas:Object},setup(s){const l=O(),n=e=>{let a="";return l.delica!==null&&e.id===l.delica.id?a+="border-black":a+="border-gray-300",a+=" bg-red from-red-400 via-red-500 to-red-900",a};return(e,a)=>(d(),c("div",xe,[t("div",_e,[t("ul",we,[(d(!0),c(w,null,j(s.delicas,r=>(d(),c("li",{key:r.id,onClick:u=>e.$emit("delicaSelected",r),class:S(["flex cursor-pointer items-center bg-white border p-1 rounded-md",n(r)])},[t("img",{src:r.image_photo_url,alt:r.name,class:"object-none group-hover:opacity-75 h-10 w-10 rounded-md"},null,8,je),t("span",Se,P(r.code),1)],10,ke))),128))]),s.delicas.length===0?(d(),c("div",$e," No delicas match your search or you dont have any delicas created yet. ")):T("",!0)])]))}},De={class:"w-full h-full relative"},Pe=["src","alt"],Te={key:1,class:"text-xs text-center leading-none align-middle text-black font-semibold"},Ve={__name:"Bead",props:{initialDelica:null,delicaCount:0},setup(s){const l=s,n=O(),e=x(l.initialDelica),a=_(()=>"bg-gradient-to-r from-gray-50 via-white to-black opacity-25"),r=m=>{n.delica!==null&&(e.value===null||n.delica.id!==e.value.id)&&(e.value=n.delica,m("setDelica",e.value.id))},u=m=>{e.value=null,m("setDelica",null)};return(m,b)=>(d(),c("div",{class:"border border-gray-300 rounded-sm cursor-pointer h-full w-full mr-1",onClick:b[0]||(b[0]=y=>r(m.$emit)),onDblclick:b[1]||(b[1]=y=>u(m.$emit))},[t("div",De,[t("div",{class:S([h(a),"h-full w-full absolute z-10 rounded-sm"])},null,2),e.value?(d(),c("img",{key:0,src:e.value.image_color_url,alt:e.value.name,class:"object-none rounded-sm z-0 h-full w-full"},null,8,Pe)):T("",!0),h(n).guides&&l.colorCount>1?(d(),c("div",Te,P(l.colorCount),1)):T("",!0)])],32))}},Oe=t("div",{class:"w-full h-full"},null,-1),Ne=[Oe],Le={__name:"PreviewBead",props:{color:"white"},setup(s){const l=s,n=_(()=>l.color!=="white"?`from-${l.color}-400 via-${l.color}-500 to-${l.color}-900`:"from-gray-50 via-white to-gray-300");return(e,a)=>(d(),c("div",{class:S(["border border-gray-300 rounded-sm h-full w-full bg-gradient-to-r mr-1",h(n)])},Ne,2))}},Be={class:"font-semibold text-xl text-gray-800 leading-tight"},Ue={class:"max-w-full"},Ee={class:"bg-white overflow-hidden shadow-sm sm:rounded-lg p-6 relative"},ze={class:"flex p-4 items-center w-full justify-start"},Fe={class:"isolate flex -space-x-px rounded-md shadow-sm bg-white"},Ge={class:"relative rounded-md rounded-r-none px-3 pb-1.5 pt-2.5 ring-1 ring-inset ring-gray-300 focus-within:z-10 focus-within:ring-2 focus-within:ring-indigo-600 flex flex-col justify-between"},Ke={class:"relative rounded-md rounded-l-none rounded-r-none px-3 pb-1.5 pt-2.5 ring-1 ring-inset ring-gray-300 focus-within:z-10 focus-within:ring-2 focus-within:ring-indigo-600 flex flex-col justify-between w-24"},Ie=t("label",{for:"cols",class:"block text-xs font-medium text-gray-500 text-right"},"Longitude",-1),He={class:"relative rounded-md rounded-l-none rounded-r-none px-3 pb-1.5 pt-2.5 ring-1 ring-inset ring-gray-300 focus-within:z-10 focus-within:ring-2 focus-within:ring-indigo-600 flex flex-col justify-between w-24"},Me=t("label",{for:"rows",class:"block text-xs font-medium text-gray-500 text-right"},"Width",-1),qe={class:"relative rounded-md rounded-l-none rounded-r-none px-3 pb-1.5 pt-2.5 ring-1 ring-inset ring-gray-300 focus-within:z-10 focus-within:ring-2 focus-within:ring-indigo-600 flex flex-col justify-between w-36"},Re=t("label",{for:"type",class:"block text-xs font-medium text-gray-500 text-right"},"Type",-1),Ae=t("option",{value:"Square"},"Square",-1),We=t("option",{value:"Peyote"},"Peyote",-1),Je=[Ae,We],Ye={class:"relative rounded-md rounded-l-none px-3 pb-1.5 pt-2.5 ring-1 ring-inset ring-gray-300 focus-within:z-10 focus-within:ring-2 focus-within:ring-indigo-600 flex flex-col justify-between w-64"},Ze=t("label",{for:"rows",class:"block text-xs font-medium text-gray-500 text-right"},"Name",-1),Qe={class:"p-4 w-full border mb-4 justify-center bg-slate-50 overflow-x-auto"},Xe={key:0,class:"w-4 absolute left-1"},et={class:"h-4 w-5 text-xs text-center border border-transparent text-gray-400 leading-none"},tt={class:"flex"},lt=t("div",{class:"w-4 bg-gradient-to-r from-slate-300 via-slate-100 to-slate-400"},[t("div",{class:"h-4 w-5"})],-1),st={key:0,class:"w-4 -mt-4"},ot={class:"gap-px flex"},nt={class:"h-4 w-5 text-xs text-center border border-transparent text-gray-400 leading-none"},rt=t("div",{class:"w-4 bg-gradient-to-r from-slate-300 via-slate-100 to-slate-400"},[t("div",{class:"h-4 w-5"})],-1),at={class:"p-4 w-full border mb-4 justify-center bg-slate-50 overflow-x-auto"},it={class:"flex justify-center"},dt=t("div",{class:"w-4 bg-gradient-to-r from-slate-300 via-slate-100 to-slate-400"},[t("div",{class:"h-4 w-5"})],-1),ut=t("div",{class:"w-4 bg-gradient-to-r from-slate-300 via-slate-100 to-slate-400"},[t("div",{class:"h-4 w-5"})],-1),mt={__name:"Show",props:{project:Object,beads:Object,delicas:Object},setup(s){const l=s,n=O(),e=x(l.project.width),a=x(l.project.long),r=x(l.project.type),u=x(l.project.name),m=(v,p)=>l.beads.hasOwnProperty(v+"-"+p)?l.beads[v+"-"+p]:null,b=(v,p)=>{if(!l.beads.hasOwnProperty(v+"-"+p))return 0;let o=l.beads[v+"-"+p];if(o==="white")return 0;let i=1;for(let g=v-1;g>0;g--)if(l.beads.hasOwnProperty(g+"-"+p))if(l.beads[g+"-"+p]===o)i++;else break;return i},y=z({bead_row:null,bead_col:null,bead_delica:null}),f=z({width:null,long:null,type:null,name:null});function C(v,p,o){y.bead_row=p,y.bead_col=o,y.bead_delica=v,y.put("/projects/"+l.project.id,{preserveState:!0,preserveScroll:!0})}function k(){f.width=e,f.long=a,f.type=r,f.name=u,f.put("/projects/"+l.project.id,{preserveState:!0,preserveScroll:!0})}return(v,p)=>(d(),c(w,null,[$(h(le),{title:"Project Details"}),$(ce,null,{header:D(()=>[t("h2",Be,P(s.project.name),1)]),default:D(()=>[t("div",Ue,[t("div",Ee,[t("div",ze,[t("div",Fe,[t("div",Ge,[$(ye)]),t("div",Ke,[Ie,V(t("input",{"onUpdate:modelValue":p[0]||(p[0]=o=>a.value=o),onChange:k,type:"number",name:"cols",id:"cols",class:"mt-2 block w-full border-0 p-0 py-1.5 pl-3 pr-1 text-gray-900 placeholder:text-gray-400 focus:ring-0 sm:text-sm sm:leading-6 text-right",placeholder:"How long is the bracelet"},null,544),[[N,a.value,void 0,{number:!0}]])]),t("div",He,[Me,V(t("input",{"onUpdate:modelValue":p[1]||(p[1]=o=>e.value=o),onChange:k,type:"number",name:"rows",id:"rows",class:"mt-2 block w-full border-0 p-0 py-1.5 pl-3 pr-1 text-gray-900 placeholder:text-gray-400 focus:ring-0 sm:text-sm sm:leading-6 text-right",placeholder:"Width of the bracelet"},null,544),[[N,e.value,void 0,{number:!0}]])]),t("div",qe,[Re,V(t("select",{"onUpdate:modelValue":p[2]||(p[2]=o=>r.value=o),id:"type",name:"type",onChange:k,class:"mt-2 block w-full rounded-md border-0 py-1.5 pl-3 pr-10 text-gray-900 ring-1 ring-inset ring-gray-300 focus:ring-2 focus:ring-indigo-600 sm:text-sm sm:leading-6"},Je,544),[[se,r.value]])]),t("div",Ye,[Ze,V(t("input",{"onUpdate:modelValue":p[3]||(p[3]=o=>u.value=o),onChange:k,type:"text",name:"name",id:"name",class:"mt-2 block w-full border-0 p-0 py-1.5 pl-3 pr-1 text-gray-900 placeholder:text-gray-400 focus:ring-0 sm:text-sm sm:leading-6 text-right",placeholder:"Name of this project"},null,544),[[N,u.value]])])])]),$(Ce,{delicas:s.delicas,onDelicaSelected:p[4]||(p[4]=o=>h(n).setDelica(o))},null,8,["delicas"]),t("div",Qe,[h(n).guides?(d(),c("div",Xe,[(d(!0),c(w,null,j(e.value,o=>(d(),c("div",{key:"guides-row-"+o,class:"gap-px flex"},[t("div",et,P(o),1)]))),128))])):T("",!0),t("div",tt,[lt,t("div",null,[h(n).guides?(d(),c("div",st,[t("div",ot,[(d(!0),c(w,null,j(a.value,o=>(d(),c("div",{key:"guides-col-"+o,class:"h-4 w-5"},[t("div",nt,P(o),1)]))),128))])])):T("",!0),(d(!0),c(w,null,j(e.value,o=>(d(),c("div",{key:"row-"+o,class:S(["gap-px flex",{"ml-2":r.value==="Peyote"&&o%2==0}])},[(d(!0),c(w,null,j(a.value,i=>(d(),c("div",{key:"col-"+i,class:"h-4 w-5"},[(d(),L(Ve,{key:o+"-"+i,onSetDelica:g=>C(g,o,i),"initial-delica":m(o,i),"delica-count":b(o,i)},null,8,["onSetDelica","initial-delica","delica-count"]))]))),128))],2))),128))]),rt])]),t("div",at,[t("div",it,[dt,t("div",null,[(d(!0),c(w,null,j(e.value,o=>(d(),c("div",{key:"row-"+o,class:S(["gap-px flex",{"ml-1":r.value==="Peyote"&&o%2==0}])},[(d(!0),c(w,null,j(a.value,i=>(d(),c("div",{key:"col-"+i,class:"h-1.5 w-2"},[(d(),L(Le,{key:o+"-"+i,color:m(o,i)},null,8,["color"]))]))),128))],2))),128))]),ut])])])])]),_:1})],64))}};export{mt as default};
