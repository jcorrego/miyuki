import{m as _,h as T,E as ee,G as q,y as te,z as ve,u as d,H as le,x as oe,I as J,F as j,o as a,f as u,b as e,J as pe,c as R,w as D,a as y,d as $,n as w,p as M,L as W,t as V,k as ge,g as A,T as Y,Z as fe,i as O,l as K,q as Q}from"./app-e1973a35.js";import{t as ne,H as Z,M as he,b as me,o as be,f as xe,K as we,a as ye,T as _e,c as X,_ as ke}from"./AuthenticatedLayout-d91f12da.js";import"./ApplicationLogo-390ebab0.js";import"./_plugin-vue_export-helper-c27b6911.js";function $e(l){var t;let s=(t=l==null?void 0:l.form)!=null?t:l.closest("form");if(s){for(let i of s.elements)if(i.tagName==="INPUT"&&i.type==="submit"||i.tagName==="BUTTON"&&i.type==="submit"||i.nodeName==="INPUT"&&i.type==="image"){i.click();return}}}function Se(l,t,s){let i=_(s==null?void 0:s.value),v=T(()=>l.value!==void 0);return[T(()=>v.value?l.value:i.value),function(p){return v.value||(i.value=p),t==null?void 0:t(p)}]}let ie=Symbol("LabelContext");function se(){let l=le(ie,null);if(l===null){let t=new Error("You used a <Label /> component, but it is not inside a parent.");throw Error.captureStackTrace&&Error.captureStackTrace(t,se),t}return l}function Ce({slot:l={},name:t="Label",props:s={}}={}){let i=_([]);function v(p){return i.value.push(p),()=>{let m=i.value.indexOf(p);m!==-1&&i.value.splice(m,1)}}return ee(ie,{register:v,slot:l,name:t,props:s}),T(()=>i.value.length>0?i.value.join(" "):void 0)}let je=q({name:"Label",props:{as:{type:[Object,String],default:"label"},passive:{type:[Boolean],default:!1},id:{type:String,default:()=>`headlessui-label-${ne()}`}},setup(l,{slots:t,attrs:s}){let i=se();return te(()=>ve(i.register(l.id))),()=>{let{name:v="Label",slot:p={},props:m={}}=i,{id:x,passive:g,...f}=l,r={...Object.entries(m).reduce((z,[P,B])=>Object.assign(z,{[P]:d(B)}),{}),id:x};return g&&(delete r.onClick,delete r.htmlFor,delete f.onClick),Z({ourProps:r,theirProps:f,slot:p,attrs:s,slots:t,name:v})}}}),re=Symbol("GroupContext"),Te=q({name:"SwitchGroup",props:{as:{type:[Object,String],default:"template"}},setup(l,{slots:t,attrs:s}){let i=_(null),v=Ce({name:"SwitchLabel",props:{htmlFor:T(()=>{var m;return(m=i.value)==null?void 0:m.id}),onClick(m){i.value&&(m.currentTarget.tagName==="LABEL"&&m.preventDefault(),i.value.click(),i.value.focus({preventScroll:!0}))}}}),p=he({name:"SwitchDescription"});return ee(re,{switchRef:i,labelledby:v,describedby:p}),()=>Z({theirProps:l,ourProps:{},slot:{},slots:t,attrs:s,name:"SwitchGroup"})}}),ze=q({name:"Switch",emits:{"update:modelValue":l=>!0},props:{as:{type:[Object,String],default:"button"},modelValue:{type:Boolean,default:void 0},defaultChecked:{type:Boolean,optional:!0},form:{type:String,optional:!0},name:{type:String,optional:!0},value:{type:String,optional:!0},id:{type:String,default:()=>`headlessui-switch-${ne()}`}},inheritAttrs:!1,setup(l,{emit:t,attrs:s,slots:i,expose:v}){let p=le(re,null),[m,x]=Se(T(()=>l.modelValue),h=>t("update:modelValue",h),T(()=>l.defaultChecked));function g(){x(!m.value)}let f=_(null),r=p===null?f:p.switchRef,z=me(T(()=>({as:l.as,type:s.type})),r);v({el:r,$el:r});function P(h){h.preventDefault(),g()}function B(h){h.key===X.Space?(h.preventDefault(),g()):h.key===X.Enter&&$e(h.currentTarget)}function G(h){h.preventDefault()}let S=T(()=>{var h,k;return(k=(h=be(r))==null?void 0:h.closest)==null?void 0:k.call(h,"form")});return te(()=>{oe([S],()=>{if(!S.value||l.defaultChecked===void 0)return;function h(){x(l.defaultChecked)}return S.value.addEventListener("reset",h),()=>{var k;(k=S.value)==null||k.removeEventListener("reset",h)}},{immediate:!0})}),()=>{let{id:h,name:k,value:L,form:H,...F}=l,I={checked:m.value},N={id:h,ref:r,role:"switch",type:z.value,tabIndex:0,"aria-checked":m.value,"aria-labelledby":p==null?void 0:p.labelledby.value,"aria-describedby":p==null?void 0:p.describedby.value,onClick:P,onKeyup:B,onKeypress:G};return J(j,[k!=null&&m.value!=null?J(xe,we({features:ye.Hidden,as:"input",type:"checkbox",hidden:!0,readOnly:!0,checked:m.value,form:H,name:k,value:L})):null,Z({ourProps:N,theirProps:{...s,..._e(F,["modelValue","defaultChecked"])},slot:I,attrs:s,slots:i,name:"Switch"})])}}}),Me=je;function Ae(l,t){return a(),u("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},[e("path",{"fill-rule":"evenodd",d:"M3 4.25A2.25 2.25 0 015.25 2h5.5A2.25 2.25 0 0113 4.25v2a.75.75 0 01-1.5 0v-2a.75.75 0 00-.75-.75h-5.5a.75.75 0 00-.75.75v11.5c0 .414.336.75.75.75h5.5a.75.75 0 00.75-.75v-2a.75.75 0 011.5 0v2A2.25 2.25 0 0110.75 18h-5.5A2.25 2.25 0 013 15.75V4.25z","clip-rule":"evenodd"}),e("path",{"fill-rule":"evenodd",d:"M6 10a.75.75 0 01.75-.75h9.546l-1.048-.943a.75.75 0 111.004-1.114l2.5 2.25a.75.75 0 010 1.114l-2.5 2.25a.75.75 0 11-1.004-1.114l1.048-.943H6.75A.75.75 0 016 10z","clip-rule":"evenodd"})])}function Be(l,t){return a(),u("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},[e("path",{"fill-rule":"evenodd",d:"M15.988 3.012A2.25 2.25 0 0118 5.25v6.5A2.25 2.25 0 0115.75 14H13.5v-3.379a3 3 0 00-.879-2.121l-3.12-3.121a3 3 0 00-1.402-.791 2.252 2.252 0 011.913-1.576A2.25 2.25 0 0112.25 1h1.5a2.25 2.25 0 012.238 2.012zM11.5 3.25a.75.75 0 01.75-.75h1.5a.75.75 0 01.75.75v.25h-3v-.25z","clip-rule":"evenodd"}),e("path",{d:"M3.5 6A1.5 1.5 0 002 7.5v9A1.5 1.5 0 003.5 18h7a1.5 1.5 0 001.5-1.5v-5.879a1.5 1.5 0 00-.44-1.06L8.44 6.439A1.5 1.5 0 007.378 6H3.5z"})])}function Le(l,t){return a(),u("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},[e("path",{"fill-rule":"evenodd",d:"M10 1a.75.75 0 01.75.75v1.5a.75.75 0 01-1.5 0v-1.5A.75.75 0 0110 1zM5.05 3.05a.75.75 0 011.06 0l1.062 1.06A.75.75 0 116.11 5.173L5.05 4.11a.75.75 0 010-1.06zm9.9 0a.75.75 0 010 1.06l-1.06 1.062a.75.75 0 01-1.062-1.061l1.061-1.06a.75.75 0 011.06 0zM3 8a.75.75 0 01.75-.75h1.5a.75.75 0 010 1.5h-1.5A.75.75 0 013 8zm11 0a.75.75 0 01.75-.75h1.5a.75.75 0 010 1.5h-1.5A.75.75 0 0114 8zm-6.828 2.828a.75.75 0 010 1.061L6.11 12.95a.75.75 0 01-1.06-1.06l1.06-1.06a.75.75 0 011.06 0zm3.594-3.317a.75.75 0 00-1.37.364l-.492 6.861a.75.75 0 001.204.65l1.043-.799.985 3.678a.75.75 0 001.45-.388l-.978-3.646 1.292.204a.75.75 0 00.74-1.16l-3.874-5.764z","clip-rule":"evenodd"})])}function De(l,t){return a(),u("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},[e("path",{d:"M7 3.5A1.5 1.5 0 018.5 2h3.879a1.5 1.5 0 011.06.44l3.122 3.12A1.5 1.5 0 0117 6.622V12.5a1.5 1.5 0 01-1.5 1.5h-1v-3.379a3 3 0 00-.879-2.121L10.5 5.379A3 3 0 008.379 4.5H7v-1z"}),e("path",{d:"M4.5 6A1.5 1.5 0 003 7.5v9A1.5 1.5 0 004.5 18h7a1.5 1.5 0 001.5-1.5v-5.879a1.5 1.5 0 00-.44-1.06L9.44 6.439A1.5 1.5 0 008.378 6H4.5z"})])}function Ve(l,t){return a(),u("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},[e("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM6.75 9.25a.75.75 0 000 1.5h6.5a.75.75 0 000-1.5h-6.5z","clip-rule":"evenodd"})])}function Pe(l,t){return a(),u("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},[e("path",{d:"M15.993 1.385a1.87 1.87 0 012.623 2.622l-4.03 5.27a12.749 12.749 0 01-4.237 3.562 4.508 4.508 0 00-3.188-3.188 12.75 12.75 0 013.562-4.236l5.27-4.03zM6 11a3 3 0 00-3 3 .5.5 0 01-.72.45.75.75 0 00-1.035.931A4.001 4.001 0 009 14.004V14a3.01 3.01 0 00-1.66-2.685A2.99 2.99 0 006 11z"})])}function Oe(l,t){return a(),u("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},[e("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm.75-11.25a.75.75 0 00-1.5 0v2.5h-2.5a.75.75 0 000 1.5h2.5v2.5a.75.75 0 001.5 0v-2.5h2.5a.75.75 0 000-1.5h-2.5v-2.5z","clip-rule":"evenodd"})])}function Ne(l,t){return a(),u("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},[e("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.28 7.22a.75.75 0 00-1.06 1.06L8.94 10l-1.72 1.72a.75.75 0 101.06 1.06L10 11.06l1.72 1.72a.75.75 0 101.06-1.06L11.06 10l1.72-1.72a.75.75 0 00-1.06-1.06L10 8.94 8.28 7.22z","clip-rule":"evenodd"})])}const E=pe("tools",{state:()=>({guides:!1,delica:null,tool:"paint",selectTool:"add",clipboard:null}),getters:{},actions:{setDelica(l){this.delica=l,this.selectTool=!1},setSelectTool(l){this.selectTool=l},activateTool(l){this.tool=l},toggleGuides(){this.guides=!this.guides}}}),Ue={__name:"GuidesToggle",setup(l){const t=E(),s=_(!1);return oe(s,async(i,v)=>{t.toggleGuides()}),(i,v)=>(a(),R(d(Te),{as:"div",class:"flex flex-col justify-between h-full"},{default:D(()=>[y(d(Me),{as:"span",class:"text-xs font-medium text-gray-500 text-right",passive:""},{default:D(()=>[$("Show guides")]),_:1}),y(d(ze),{onChange:v[0]||(v[0]=p=>d(t).toggleGuides()),modelValue:s.value,"onUpdate:modelValue":v[1]||(v[1]=p=>s.value=p),class:w([s.value?"bg-indigo-600":"bg-gray-200","relative inline-flex h-6 w-11 flex-shrink-0 cursor-pointer rounded-full border-2 border-transparent transition-colors duration-200 ease-in-out focus:outline-none focus:ring-2 focus:ring-indigo-600 focus:ring-offset-2"])},{default:D(()=>[e("span",{"aria-hidden":"true",class:w([s.value?"translate-x-5":"translate-x-0","pointer-events-none inline-block h-5 w-5 transform rounded-full bg-white shadow ring-0 transition duration-200 ease-in-out"])},null,2)]),_:1},8,["modelValue","class"])]),_:1}))}},Ee={class:"flex gap-2 p-2 bg-slate-200 border mb-4 rounded-md"},Ge=e("div",{class:"border-r border-gray-300 h-10 w-1"},null,-1),He={key:0,class:"flex-1"},Fe={key:0,class:"flex flex-wrap gap-2 items-center h-full"},Ie=["onClick"],Ke={class:"flex flex-col justify-center items-start text-xs h-10 leading-none rounded-r-md border border-l-0 px-2"},Re={class:"font-semibold text-sm"},qe={key:1,class:"text-gray-500 flex items-center h-full"},We={key:1,class:"h-10 flex-1"},Ze={class:"flex gap-2 items-center h-full"},Je=e("div",{class:"border-r border-gray-300 h-10 w-1"},null,-1),Ye={__name:"Toolbox",props:{delicas:Object},setup(l){const t=E(),s=g=>{let f="";return t.delica!==null&&g.id===t.delica.id?f+="bg-indigo-500 text-white":f+="bg-white text-gray-500",f};function i(g){t.setSelectTool("clear"),g("clear-selection"),setTimeout(v,500)}function v(){t.setSelectTool("add")}function p(g){t.setSelectTool("mirror"),g("mirror-selection"),setTimeout(v,500)}function m(g){t.setSelectTool("copy"),g("copy-selection"),setTimeout(v,500)}function x(g){t.setSelectTool("paste"),g("paste-selection"),setTimeout(v,500)}return(g,f)=>(a(),u("div",Ee,[e("div",{onClick:f[0]||(f[0]=r=>d(t).activateTool("select")),class:w(["flex cursor-pointer items-center justify-center p-1 rounded-md border-2 h-10 w-10",[d(t).tool==="select"?"bg-indigo-500 text-white border-indigo-500":"bg-white border-gray-300"]])},[y(d(Le),{class:"h-5 w-5","aria-hidden":"true"})],2),e("div",{onClick:f[1]||(f[1]=r=>d(t).activateTool("paint")),class:w(["flex cursor-pointer items-center justify-center p-1 rounded-md border-2 h-10 w-10",[d(t).tool==="paint"?"bg-indigo-500 text-white border-indigo-500":"bg-white border-gray-300"]])},[y(d(Pe),{class:"h-5 w-5","aria-hidden":"true"})],2),Ge,d(t).tool==="paint"?(a(),u("div",He,[Object.keys(l.delicas).length>0?(a(),u("div",Fe,[(a(!0),u(j,null,M(l.delicas,r=>(a(),u("div",{key:r.id,onClick:z=>d(t).setDelica(r),class:w(["flex cursor-pointer items-center rounded-md",s(r)])},[e("div",{class:"h-10 w-10 rounded-md group-hover:opacity-75",style:W("background-color:"+r.rgb+";")},null,4),e("div",Ke,[e("div",Re,V(r.code),1),e("div",null,V(r.count)+" beads",1)])],10,Ie))),128))])):(a(),u("div",qe,[e("span",null,[$("No delicas are associated with this proyect yet. Go to "),y(d(ge),{class:"text-indigo-500",href:g.route("delicas.index")},{default:D(()=>[$("Delicas")]),_:1},8,["href"]),$(" list.")])]))])):A("",!0),d(t).tool==="select"?(a(),u("div",We,[e("div",Ze,[e("div",{onClick:f[2]||(f[2]=r=>d(t).setSelectTool("add")),class:w(["flex gap-1 cursor-pointer items-center justify-center p-1 rounded-md border-2 h-10",[d(t).selectTool==="add"?"bg-indigo-400 text-white border-indigo-400":"bg-white text-gray-400 border-gray-300"]])},[y(d(Oe),{class:"h-5 w-5","aria-hidden":"true"}),$(" Add ")],2),e("div",{onClick:f[3]||(f[3]=r=>d(t).setSelectTool("minus")),class:w(["flex gap-1 cursor-pointer items-center justify-center p-1 rounded-md border-2 h-10",[d(t).selectTool==="minus"?"bg-indigo-400 text-white border-indigo-400":"bg-white text-gray-400 border-gray-300"]])},[y(d(Ve),{class:"h-5 w-5","aria-hidden":"true"}),$(" Remove ")],2),Je,e("div",{onClick:f[4]||(f[4]=r=>i(g.$emit)),class:w(["flex gap-1 cursor-pointer items-center justify-center p-1 rounded-md border-2 h-10",[d(t).selectTool==="clear"?"bg-indigo-400 text-white border-indigo-400":"bg-white text-gray-400 border-gray-300"]])},[y(d(Ne),{class:"h-5 w-5","aria-hidden":"true"}),$(" Clear ")],2),e("div",{onClick:f[5]||(f[5]=r=>p(g.$emit)),class:w(["flex gap-1 cursor-pointer items-center justify-center p-1 rounded-md border-2 h-10",[d(t).selectTool==="mirror"?"bg-indigo-400 text-white border-indigo-400":"bg-white text-gray-400 border-gray-300"]])},[y(d(Ae),{class:"h-5 w-5","aria-hidden":"true"}),$(" Mirror ")],2),e("div",{onClick:f[6]||(f[6]=r=>m(g.$emit)),class:w(["flex gap-1 cursor-pointer items-center justify-center p-1 rounded-md border-2 h-10",[d(t).selectTool==="copy"?"bg-indigo-400 text-white border-indigo-400":"bg-white text-gray-400 border-gray-300"]])},[y(d(De),{class:"h-5 w-5","aria-hidden":"true"}),$(" Copy ")],2),e("div",{onClick:f[7]||(f[7]=r=>x(g.$emit)),class:w(["flex gap-1 cursor-pointer items-center justify-center p-1 rounded-md border-2 h-10",[d(t).selectTool==="paste"?"bg-indigo-400 text-white border-indigo-400":"bg-white text-gray-400 border-gray-300"]])},[y(d(Be),{class:"h-5 w-5","aria-hidden":"true"}),$(" Paste ")],2)])])):A("",!0)]))}},Qe={class:"w-full h-full relative"},Xe=e("div",{class:"h-full w-full absolute z-10 rounded-sm bg-gradient-to-r from-gray-50 via-white to-black opacity-25"},null,-1),et={key:1,class:"left-1 px-0.5 text-2xs bg-stone-600 rounded text-center leading-none align-middle text-gray-300 font-semibold absolute top-0.5"},tt={__name:"Bead",props:{initialDelica:null,badge:null},setup(l){const t=l,s=E(),i=_(t.initialDelica),v=()=>{s.tool==="paint"&&s.delica!==null&&(i.value=s.delica)},p=()=>{i.value=null};return(m,x)=>(a(),u("div",{class:"border border-gray-300 rounded-sm cursor-pointer h-full w-full mr-1",onClick:x[0]||(x[0]=g=>v()),onDblclick:x[1]||(x[1]=g=>p())},[e("div",Qe,[Xe,i.value&&i.value.rgb?(a(),u("div",{key:0,class:"h-full w-full absolute z-10 rounded-sm",style:W("background-color:"+i.value.rgb+";")},null,4)):A("",!0),d(s).guides&&l.badge?(a(),u("div",et,V(l.badge),1)):A("",!0)])],32))}},lt={class:"border border-gray-300 rounded-xs h-full w-full mr-1"},ot={class:"w-full h-full relative"},nt=e("div",{class:"h-full w-full absolute z-10 rounded-xs bg-gradient-to-r from-gray-50 via-white to-black opacity-10"},null,-1),it={__name:"PreviewBead",props:{delica:null},setup(l){return(t,s)=>(a(),u("div",lt,[e("div",ot,[nt,l.delica&&l.delica.rgb?(a(),u("div",{key:0,class:"h-full w-full absolute z-0 rounded-sm",style:W("background-color:"+l.delica.rgb+";")},null,4)):A("",!0)])]))}},st={class:"font-semibold text-xl text-gray-800 leading-tight"},rt={class:"bg-white overflow-hidden shadow-sm sm:rounded-lg p-6 relative"},at={class:"flex items-center w-full justify-start mb-4"},dt={class:"isolate flex -space-x-px rounded-md shadow-sm bg-white"},ut={class:"relative rounded-md rounded-r-none px-3 pb-1.5 pt-2.5 ring-1 ring-inset ring-gray-300 focus-within:z-10 focus-within:ring-2 focus-within:ring-indigo-600 flex flex-col justify-between"},ct={class:"relative rounded-md rounded-l-none rounded-r-none px-3 pb-1.5 pt-2.5 ring-1 ring-inset ring-gray-300 focus-within:z-10 focus-within:ring-2 focus-within:ring-indigo-600 flex flex-col justify-between w-24"},vt=e("label",{for:"cols",class:"block text-xs font-medium text-gray-500 text-right"},"Longitude",-1),pt={class:"relative rounded-md rounded-l-none rounded-r-none px-3 pb-1.5 pt-2.5 ring-1 ring-inset ring-gray-300 focus-within:z-10 focus-within:ring-2 focus-within:ring-indigo-600 flex flex-col justify-between w-24"},gt=e("label",{for:"rows",class:"block text-xs font-medium text-gray-500 text-right"},"Width",-1),ft={class:"relative rounded-md rounded-l-none rounded-r-none px-3 pb-1.5 pt-2.5 ring-1 ring-inset ring-gray-300 focus-within:z-10 focus-within:ring-2 focus-within:ring-indigo-600 flex flex-col justify-between w-36"},ht=e("label",{for:"type",class:"block text-xs font-medium text-gray-500 text-right"},"Type",-1),mt=e("option",{value:"Square"},"Square",-1),bt=e("option",{value:"Peyote"},"Peyote",-1),xt=[mt,bt],wt={class:"relative rounded-md rounded-l-none rounded-r-none px-3 pb-1.5 pt-2.5 ring-1 ring-inset ring-gray-300 focus-within:z-10 focus-within:ring-2 focus-within:ring-indigo-600 flex flex-col justify-between w-36"},yt=e("label",{for:"zoom",class:"block text-xs font-medium text-gray-500 text-right"},"Zoom",-1),_t=e("option",{value:"1"},"Small",-1),kt=e("option",{value:"2"},"Medium",-1),$t=e("option",{value:"3"},"Large",-1),St=[_t,kt,$t],Ct={class:"relative rounded-md rounded-l-none px-3 pb-1.5 pt-2.5 ring-1 ring-inset ring-gray-300 focus-within:z-10 focus-within:ring-2 focus-within:ring-indigo-600 flex flex-col justify-between w-64"},jt=e("label",{for:"rows",class:"block text-xs font-medium text-gray-500 text-right"},"Name",-1),Tt={class:"py-5 w-full border mb-4 justify-center bg-slate-50 overflow-x-auto"},zt={key:0,class:"absolute left-1 flex flex-col text-xs text-gray-400 leading-none"},Mt={class:"flex"},At=e("div",{class:"w-5 bg-gradient-to-r from-slate-300 via-slate-100 to-slate-400"},[e("div",{class:"h-5 w-6"})],-1),Bt={class:"relative"},Lt={key:0,class:"absolute -top-5"},Dt={class:"gap-px flex text-xs text-gray-400 leading-none"},Vt={class:"text-center"},Pt=e("div",{class:"w-5 bg-gradient-to-r from-slate-300 via-slate-100 to-slate-400"},[e("div",{class:"h-5 w-6"})],-1),Ot={class:"p-4 w-full border mb-4 justify-center bg-slate-50 overflow-x-auto"},Nt={class:"flex justify-center"},Ut=e("div",{class:"w-4 bg-gradient-to-r from-slate-300 via-slate-100 to-slate-400"},[e("div",{class:"h-4 w-5"})],-1),Et=e("div",{class:"w-4 bg-gradient-to-r from-slate-300 via-slate-100 to-slate-400"},[e("div",{class:"h-4 w-5"})],-1),Kt={__name:"Show",props:{project:Object,beads:Object,delicas:Object},setup(l){const t=l,s=E(),i=_(t.project.width),v=_(t.project.long),p=_(t.project.type),m=_(t.project.name),x=_(t.beads),g=_(2),f=_(!1),r=_([]),z=T(()=>(console.log(g.value),g.value==1?"h-4 w-5":g.value==2?"h-5 w-6":g.value==3?"h-6 w-7":"h-5 w-6")),P=(c,n)=>r.value.includes(c+"-"+n),B=(c,n)=>x.value.hasOwnProperty(c+"-"+n)?x.value[c+"-"+n]:null,G=(c,n)=>x.value.hasOwnProperty(c+"-"+n)?x.value[c+"-"+n].badge:null,S=Y({bead_row:null,bead_col:null,bead_delica:null}),h=Y({width:null,long:null,type:null,name:null});function k(c,n,o){S.bead_row=n,S.bead_col=o,S.bead_delica=c,S.put("/projects/"+t.project.id,{preserveState:!0,preserveScroll:!0,onSuccess:b=>{x.value=b.props.beads}})}function L(){h.width=i,h.long=v,h.type=p,h.name=m,h.put("/projects/"+t.project.id,{preserveState:!0,preserveScroll:!0})}function H(c,n){s.tool==="paint"&&s.delica!==null&&k(s.delica.id,c,n)}function F(c,n){k(null,c,n)}function I(c,n){s.tool==="select"&&(f.value=!0,s.selectTool==="add"?r.value.includes(c+"-"+n)||r.value.push(c+"-"+n):r.value.includes(c+"-"+n)&&(r.value=r.value.filter(o=>o!==c+"-"+n)))}function N(c,n){s.tool==="select"&&(f.value=!1)}function ae(c,n){s.tool==="select"&&f.value&&(s.selectTool==="add"?r.value.includes(c+"-"+n)||r.value.push(c+"-"+n):r.value.includes(c+"-"+n)&&(r.value=r.value.filter(o=>o!==c+"-"+n)))}function de(){let c=[];r.value.forEach(function(n){let o=n.split("-")[0],b=n.split("-")[1],C=o,U=parseInt(v.value)-parseInt(b)+1;c.push(C+"-"+U)}),r.value=c}function ue(){s.clipboard=r.value,r.value=[]}function ce(){let c=r.value[0],n=c.split("-")[0],o=c.split("-")[1];s.clipboard.forEach(function(b){let C=b.split("-")[0],U=b.split("-")[1];x.value.hasOwnProperty(C+"-"+U)?k(x.value[C+"-"+U].id,n,o):k(null,n,o)})}return(c,n)=>(a(),u(j,null,[y(d(fe),{title:"Project Details"}),y(ke,null,{header:D(()=>[e("h2",st,V(l.project.name),1)]),default:D(()=>[e("div",{class:"max-w-full",onMouseup:n[6]||(n[6]=o=>N(c.row,c.col))},[e("div",rt,[e("div",at,[e("div",dt,[e("div",ut,[y(Ue)]),e("div",ct,[vt,O(e("input",{"onUpdate:modelValue":n[0]||(n[0]=o=>v.value=o),onChange:L,type:"number",name:"cols",id:"cols",class:"mt-2 block w-full border-0 p-0 py-1.5 pl-3 pr-1 text-gray-900 placeholder:text-gray-400 focus:ring-0 sm:text-sm sm:leading-6 text-right",placeholder:"How long is the bracelet"},null,544),[[K,v.value,void 0,{number:!0}]])]),e("div",pt,[gt,O(e("input",{"onUpdate:modelValue":n[1]||(n[1]=o=>i.value=o),onChange:L,type:"number",name:"rows",id:"rows",class:"mt-2 block w-full border-0 p-0 py-1.5 pl-3 pr-1 text-gray-900 placeholder:text-gray-400 focus:ring-0 sm:text-sm sm:leading-6 text-right",placeholder:"Width of the bracelet"},null,544),[[K,i.value,void 0,{number:!0}]])]),e("div",ft,[ht,O(e("select",{"onUpdate:modelValue":n[2]||(n[2]=o=>p.value=o),id:"type",name:"type",onChange:L,class:"mt-2 block w-full rounded-md border-0 py-1.5 pl-3 pr-10 text-gray-900 ring-1 ring-inset ring-gray-300 focus:ring-2 focus:ring-indigo-600 sm:text-sm sm:leading-6"},xt,544),[[Q,p.value]])]),e("div",wt,[yt,O(e("select",{"onUpdate:modelValue":n[3]||(n[3]=o=>g.value=o),id:"zoom",name:"type",class:"mt-2 block w-full rounded-md border-0 py-1.5 pl-3 pr-10 text-gray-900 ring-1 ring-inset ring-gray-300 focus:ring-2 focus:ring-indigo-600 sm:text-sm sm:leading-6"},St,512),[[Q,g.value]])]),e("div",Ct,[jt,O(e("input",{"onUpdate:modelValue":n[4]||(n[4]=o=>m.value=o),onChange:L,type:"text",name:"name",id:"name",class:"mt-2 block w-full border-0 p-0 py-1.5 pl-3 pr-1 text-gray-900 placeholder:text-gray-400 focus:ring-0 sm:text-sm sm:leading-6 text-right",placeholder:"Name of this project"},null,544),[[K,m.value]])])])]),y(Ye,{delicas:l.delicas,onClearSelection:n[5]||(n[5]=o=>r.value=[]),onMirrorSelection:de,onCopySelection:ue,onPasteSelection:ce},null,8,["delicas"]),e("div",Tt,[d(s).guides?(a(),u("div",zt,[(a(!0),u(j,null,M(i.value,o=>(a(),u("div",{key:"guides-row-"+o,class:w(["flex items-center justify-center",d(z)])},V(o),3))),128))])):A("",!0),e("div",Mt,[At,e("div",Bt,[d(s).guides?(a(),u("div",Lt,[e("div",Dt,[(a(!0),u(j,null,M(v.value,o=>(a(),u("div",{key:"guides-col-"+o,class:w(["flex items-center justify-center h-5",d(z)])},[e("div",Vt,V(o),1)],2))),128))])])):A("",!0),(a(!0),u(j,null,M(i.value,o=>(a(),u("div",{key:"row-"+o,class:w(["gap-px flex select-none",{"ml-2":p.value==="Peyote"&&o%2==0}])},[(a(!0),u(j,null,M(v.value,b=>(a(),u("div",{key:"col-"+b,class:w([P(o,b)?"border-2 border-indigo-500":"",d(z)])},[(a(),R(tt,{key:o+"-"+b,"initial-delica":B(o,b),badge:G(o,b),onClick:C=>H(o,b),onDblclick:C=>F(o,b),onMousedown:C=>I(o,b),onMouseup:C=>N(o,b),onMouseover:C=>ae(o,b)},null,8,["initial-delica","badge","onClick","onDblclick","onMousedown","onMouseup","onMouseover"]))],2))),128))],2))),128))]),Pt])]),e("div",Ot,[e("div",Nt,[Ut,e("div",null,[(a(!0),u(j,null,M(i.value,o=>(a(),u("div",{key:"row-"+o,class:w(["gap-px flex",{"ml-1":p.value==="Peyote"&&o%2==0}])},[(a(!0),u(j,null,M(v.value,b=>(a(),u("div",{key:"col-"+b,class:"h-2 w-2.5"},[(a(),R(it,{key:o+"-"+b,delica:B(o,b)},null,8,["delica"]))]))),128))],2))),128))]),Et])])])],32)]),_:1})],64))}};export{Kt as default};
