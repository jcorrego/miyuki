import{m as _,h as M,E as q,y as ee,z as ce,u as s,G as te,H as oe,x as le,I as J,F as L,o as d,f,b as e,J as pe,c as ne,w as A,a as b,d as C,n as x,p as P,L as se,t as B,k as fe,g as N,T as ge,Z as he,i as O,l as F,q as Y,O as Q}from"./app-bfdb7076.js";import{t as ie,H as W,c as ve,d as me,o as xe,f as we,K as be,e as ye,T as _e,i as X,_ as ke}from"./AuthenticatedLayout-58cfc81a.js";import"./ApplicationLogo-21a8285c.js";import"./_plugin-vue_export-helper-c27b6911.js";function Se(o){var t;let n=(t=o==null?void 0:o.form)!=null?t:o.closest("form");if(n){for(let i of n.elements)if(i.tagName==="INPUT"&&i.type==="submit"||i.tagName==="BUTTON"&&i.type==="submit"||i.nodeName==="INPUT"&&i.type==="image"){i.click();return}}}function je(o,t,n){let i=_(n==null?void 0:n.value),g=M(()=>o.value!==void 0);return[M(()=>g.value?o.value:i.value),function(u){return g.value||(i.value=u),t==null?void 0:t(u)}]}let re=Symbol("LabelContext");function ae(){let o=te(re,null);if(o===null){let t=new Error("You used a <Label /> component, but it is not inside a parent.");throw Error.captureStackTrace&&Error.captureStackTrace(t,ae),t}return o}function Ce({slot:o={},name:t="Label",props:n={}}={}){let i=_([]);function g(u){return i.value.push(u),()=>{let h=i.value.indexOf(u);h!==-1&&i.value.splice(h,1)}}return oe(re,{register:g,slot:o,name:t,props:n}),M(()=>i.value.length>0?i.value.join(" "):void 0)}let $e=q({name:"Label",props:{as:{type:[Object,String],default:"label"},passive:{type:[Boolean],default:!1},id:{type:String,default:()=>`headlessui-label-${ie()}`}},setup(o,{slots:t,attrs:n}){let i=ae();return ee(()=>ce(i.register(o.id))),()=>{let{name:g="Label",slot:u={},props:h={}}=i,{id:S,passive:v,...a}=o,c={...Object.entries(h).reduce((m,[z,D])=>Object.assign(m,{[z]:s(D)}),{}),id:S};return v&&(delete c.onClick,delete c.htmlFor,delete a.onClick),W({ourProps:c,theirProps:a,slot:u,attrs:n,slots:t,name:g})}}}),de=Symbol("GroupContext"),Te=q({name:"SwitchGroup",props:{as:{type:[Object,String],default:"template"}},setup(o,{slots:t,attrs:n}){let i=_(null),g=Ce({name:"SwitchLabel",props:{htmlFor:M(()=>{var h;return(h=i.value)==null?void 0:h.id}),onClick(h){i.value&&(h.currentTarget.tagName==="LABEL"&&h.preventDefault(),i.value.click(),i.value.focus({preventScroll:!0}))}}}),u=ve({name:"SwitchDescription"});return oe(de,{switchRef:i,labelledby:g,describedby:u}),()=>W({theirProps:o,ourProps:{},slot:{},slots:t,attrs:n,name:"SwitchGroup"})}}),K=q({name:"Switch",emits:{"update:modelValue":o=>!0},props:{as:{type:[Object,String],default:"button"},modelValue:{type:Boolean,default:void 0},defaultChecked:{type:Boolean,optional:!0},form:{type:String,optional:!0},name:{type:String,optional:!0},value:{type:String,optional:!0},id:{type:String,default:()=>`headlessui-switch-${ie()}`}},inheritAttrs:!1,setup(o,{emit:t,attrs:n,slots:i,expose:g}){let u=te(de,null),[h,S]=je(M(()=>o.modelValue),w=>t("update:modelValue",w),M(()=>o.defaultChecked));function v(){S(!h.value)}let a=_(null),c=u===null?a:u.switchRef,m=me(M(()=>({as:o.as,type:n.type})),c);g({el:c,$el:c});function z(w){w.preventDefault(),v()}function D(w){w.key===X.Space?(w.preventDefault(),v()):w.key===X.Enter&&Se(w.currentTarget)}function $(w){w.preventDefault()}let T=M(()=>{var w,j;return(j=(w=xe(c))==null?void 0:w.closest)==null?void 0:j.call(w,"form")});return ee(()=>{le([T],()=>{if(!T.value||o.defaultChecked===void 0)return;function w(){S(o.defaultChecked)}return T.value.addEventListener("reset",w),()=>{var j;(j=T.value)==null||j.removeEventListener("reset",w)}},{immediate:!0})}),()=>{let{id:w,name:j,value:H,form:U,...G}=o,I={checked:h.value},R={id:w,ref:c,role:"switch",type:m.value,tabIndex:0,"aria-checked":h.value,"aria-labelledby":u==null?void 0:u.labelledby.value,"aria-describedby":u==null?void 0:u.describedby.value,onClick:z,onKeyup:D,onKeypress:$};return J(L,[j!=null&&h.value!=null?J(we,be({features:ye.Hidden,as:"input",type:"checkbox",hidden:!0,readOnly:!0,checked:h.value,form:U,name:j,value:H})):null,W({ourProps:R,theirProps:{...n,..._e(G,["modelValue","defaultChecked"])},slot:I,attrs:n,slots:i,name:"Switch"})])}}}),Me=$e;function Ae(o,t){return d(),f("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},[e("path",{"fill-rule":"evenodd",d:"M3 4.25A2.25 2.25 0 015.25 2h5.5A2.25 2.25 0 0113 4.25v2a.75.75 0 01-1.5 0v-2a.75.75 0 00-.75-.75h-5.5a.75.75 0 00-.75.75v11.5c0 .414.336.75.75.75h5.5a.75.75 0 00.75-.75v-2a.75.75 0 011.5 0v2A2.25 2.25 0 0110.75 18h-5.5A2.25 2.25 0 013 15.75V4.25z","clip-rule":"evenodd"}),e("path",{"fill-rule":"evenodd",d:"M6 10a.75.75 0 01.75-.75h9.546l-1.048-.943a.75.75 0 111.004-1.114l2.5 2.25a.75.75 0 010 1.114l-2.5 2.25a.75.75 0 11-1.004-1.114l1.048-.943H6.75A.75.75 0 016 10z","clip-rule":"evenodd"})])}function ze(o,t){return d(),f("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},[e("path",{"fill-rule":"evenodd",d:"M15.988 3.012A2.25 2.25 0 0118 5.25v6.5A2.25 2.25 0 0115.75 14H13.5v-3.379a3 3 0 00-.879-2.121l-3.12-3.121a3 3 0 00-1.402-.791 2.252 2.252 0 011.913-1.576A2.25 2.25 0 0112.25 1h1.5a2.25 2.25 0 012.238 2.012zM11.5 3.25a.75.75 0 01.75-.75h1.5a.75.75 0 01.75.75v.25h-3v-.25z","clip-rule":"evenodd"}),e("path",{d:"M3.5 6A1.5 1.5 0 002 7.5v9A1.5 1.5 0 003.5 18h7a1.5 1.5 0 001.5-1.5v-5.879a1.5 1.5 0 00-.44-1.06L8.44 6.439A1.5 1.5 0 007.378 6H3.5z"})])}function Ve(o,t){return d(),f("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},[e("path",{"fill-rule":"evenodd",d:"M10 1a.75.75 0 01.75.75v1.5a.75.75 0 01-1.5 0v-1.5A.75.75 0 0110 1zM5.05 3.05a.75.75 0 011.06 0l1.062 1.06A.75.75 0 116.11 5.173L5.05 4.11a.75.75 0 010-1.06zm9.9 0a.75.75 0 010 1.06l-1.06 1.062a.75.75 0 01-1.062-1.061l1.061-1.06a.75.75 0 011.06 0zM3 8a.75.75 0 01.75-.75h1.5a.75.75 0 010 1.5h-1.5A.75.75 0 013 8zm11 0a.75.75 0 01.75-.75h1.5a.75.75 0 010 1.5h-1.5A.75.75 0 0114 8zm-6.828 2.828a.75.75 0 010 1.061L6.11 12.95a.75.75 0 01-1.06-1.06l1.06-1.06a.75.75 0 011.06 0zm3.594-3.317a.75.75 0 00-1.37.364l-.492 6.861a.75.75 0 001.204.65l1.043-.799.985 3.678a.75.75 0 001.45-.388l-.978-3.646 1.292.204a.75.75 0 00.74-1.16l-3.874-5.764z","clip-rule":"evenodd"})])}function Le(o,t){return d(),f("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},[e("path",{d:"M7 3.5A1.5 1.5 0 018.5 2h3.879a1.5 1.5 0 011.06.44l3.122 3.12A1.5 1.5 0 0117 6.622V12.5a1.5 1.5 0 01-1.5 1.5h-1v-3.379a3 3 0 00-.879-2.121L10.5 5.379A3 3 0 008.379 4.5H7v-1z"}),e("path",{d:"M4.5 6A1.5 1.5 0 003 7.5v9A1.5 1.5 0 004.5 18h7a1.5 1.5 0 001.5-1.5v-5.879a1.5 1.5 0 00-.44-1.06L9.44 6.439A1.5 1.5 0 008.378 6H4.5z"})])}function Be(o,t){return d(),f("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},[e("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM6.75 9.25a.75.75 0 000 1.5h6.5a.75.75 0 000-1.5h-6.5z","clip-rule":"evenodd"})])}function De(o,t){return d(),f("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},[e("path",{d:"M15.993 1.385a1.87 1.87 0 012.623 2.622l-4.03 5.27a12.749 12.749 0 01-4.237 3.562 4.508 4.508 0 00-3.188-3.188 12.75 12.75 0 013.562-4.236l5.27-4.03zM6 11a3 3 0 00-3 3 .5.5 0 01-.72.45.75.75 0 00-1.035.931A4.001 4.001 0 009 14.004V14a3.01 3.01 0 00-1.66-2.685A2.99 2.99 0 006 11z"})])}function Oe(o,t){return d(),f("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},[e("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm.75-11.25a.75.75 0 00-1.5 0v2.5h-2.5a.75.75 0 000 1.5h2.5v2.5a.75.75 0 001.5 0v-2.5h2.5a.75.75 0 000-1.5h-2.5v-2.5z","clip-rule":"evenodd"})])}function Pe(o,t){return d(),f("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},[e("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.28 7.22a.75.75 0 00-1.06 1.06L8.94 10l-1.72 1.72a.75.75 0 101.06 1.06L10 11.06l1.72 1.72a.75.75 0 101.06-1.06L11.06 10l1.72-1.72a.75.75 0 00-1.06-1.06L10 8.94 8.28 7.22z","clip-rule":"evenodd"})])}const Z=pe("tools",{state:()=>({guides:!1,delica:null,tool:"paint",selectTool:"add",clipboard:null}),getters:{},actions:{setDelica(o){this.delica=o,this.selectTool=!1},setSelectTool(o){this.selectTool=o},activateTool(o){this.tool=o},toggleGuides(){this.guides=!this.guides}}}),Ne={__name:"GuidesToggle",setup(o){const t=Z(),n=_(!1);return le(n,async(i,g)=>{t.toggleGuides()}),(i,g)=>(d(),ne(s(Te),{as:"div",class:"flex flex-col justify-between h-full"},{default:A(()=>[b(s(Me),{as:"span",class:"text-xs font-medium text-gray-500 text-right",passive:""},{default:A(()=>[C("Show guides")]),_:1}),b(s(K),{onChange:g[0]||(g[0]=u=>s(t).toggleGuides()),modelValue:n.value,"onUpdate:modelValue":g[1]||(g[1]=u=>n.value=u),class:x([n.value?"bg-indigo-600":"bg-gray-200","relative inline-flex h-6 w-11 flex-shrink-0 cursor-pointer rounded-full border-2 border-transparent transition-colors duration-200 ease-in-out focus:outline-none focus:ring-2 focus:ring-indigo-600 focus:ring-offset-2"])},{default:A(()=>[e("span",{"aria-hidden":"true",class:x([n.value?"translate-x-5":"translate-x-0","pointer-events-none inline-block h-5 w-5 transform rounded-full bg-white shadow ring-0 transition duration-200 ease-in-out"])},null,2)]),_:1},8,["modelValue","class"])]),_:1}))}},Ue={class:"flex gap-2 p-2 bg-slate-200 border mb-4 rounded-md"},Ee=e("div",{class:"border-r border-gray-300 h-10 w-1"},null,-1),He={key:0,class:"flex-1"},Ge={key:0,class:"flex flex-wrap gap-2 items-center h-full"},Ie=["onClick"],Re={class:"flex flex-col justify-center items-start text-xs h-10 leading-none rounded-r-md border border-l-0 px-2"},Fe={class:"font-semibold text-sm"},Ke={key:1,class:"text-gray-500 flex items-center h-full"},qe={key:1,class:"h-10 flex-1"},We={class:"flex gap-2 items-center h-full"},Ze=e("div",{class:"border-r border-gray-300 h-10 w-1"},null,-1),Je={__name:"Toolbox",props:{delicas:Object},setup(o){const t=Z(),n=v=>{let a="";return t.delica!==null&&v.id===t.delica.id?a+="bg-indigo-500 text-white":a+="bg-white text-gray-500",a};function i(v){t.setSelectTool("clear"),v("clear-selection"),setTimeout(g,500)}function g(){t.setSelectTool("add")}function u(v){t.setSelectTool("mirror"),v("mirror-selection"),setTimeout(g,500)}function h(v){t.setSelectTool("copy"),v("copy-selection"),setTimeout(g,500)}function S(v){t.setSelectTool("paste"),v("paste-selection"),setTimeout(g,500)}return(v,a)=>(d(),f("div",Ue,[e("div",{onClick:a[0]||(a[0]=c=>s(t).activateTool("select")),class:x(["flex cursor-pointer items-center justify-center p-1 rounded-md border-2 h-10 w-10",[s(t).tool==="select"?"bg-indigo-500 text-white border-indigo-500":"bg-white border-gray-300"]])},[b(s(Ve),{class:"h-5 w-5","aria-hidden":"true"})],2),e("div",{onClick:a[1]||(a[1]=c=>s(t).activateTool("paint")),class:x(["flex cursor-pointer items-center justify-center p-1 rounded-md border-2 h-10 w-10",[s(t).tool==="paint"?"bg-indigo-500 text-white border-indigo-500":"bg-white border-gray-300"]])},[b(s(De),{class:"h-5 w-5","aria-hidden":"true"})],2),Ee,s(t).tool==="paint"?(d(),f("div",He,[Object.keys(o.delicas).length>0?(d(),f("div",Ge,[(d(!0),f(L,null,P(o.delicas,c=>(d(),f("div",{key:c.id,onClick:m=>s(t).setDelica(c),class:x(["flex cursor-pointer items-center rounded-md",n(c)])},[e("div",{class:"h-10 w-10 rounded-md group-hover:opacity-75",style:se("background-color:"+c.rgb+";")},null,4),e("div",Re,[e("div",Fe,B(c.code),1),e("div",null,B(c.count)+" beads",1)])],10,Ie))),128))])):(d(),f("div",Ke,[e("span",null,[C("No delicas are associated with this proyect yet. Go to "),b(s(fe),{class:"text-indigo-500",href:v.route("delicas.index")},{default:A(()=>[C("Delicas")]),_:1},8,["href"]),C(" list.")])]))])):N("",!0),s(t).tool==="select"?(d(),f("div",qe,[e("div",We,[e("div",{onClick:a[2]||(a[2]=c=>s(t).setSelectTool("add")),class:x(["flex gap-1 cursor-pointer items-center justify-center p-1 rounded-md border-2 h-10",[s(t).selectTool==="add"?"bg-indigo-400 text-white border-indigo-400":"bg-white text-gray-400 border-gray-300"]])},[b(s(Oe),{class:"h-5 w-5","aria-hidden":"true"}),C(" Add ")],2),e("div",{onClick:a[3]||(a[3]=c=>s(t).setSelectTool("minus")),class:x(["flex gap-1 cursor-pointer items-center justify-center p-1 rounded-md border-2 h-10",[s(t).selectTool==="minus"?"bg-indigo-400 text-white border-indigo-400":"bg-white text-gray-400 border-gray-300"]])},[b(s(Be),{class:"h-5 w-5","aria-hidden":"true"}),C(" Remove ")],2),Ze,e("div",{onClick:a[4]||(a[4]=c=>i(v.$emit)),class:x(["flex gap-1 cursor-pointer items-center justify-center p-1 rounded-md border-2 h-10",[s(t).selectTool==="clear"?"bg-indigo-400 text-white border-indigo-400":"bg-white text-gray-400 border-gray-300"]])},[b(s(Pe),{class:"h-5 w-5","aria-hidden":"true"}),C(" Clear ")],2),e("div",{onClick:a[5]||(a[5]=c=>u(v.$emit)),class:x(["flex gap-1 cursor-pointer items-center justify-center p-1 rounded-md border-2 h-10",[s(t).selectTool==="mirror"?"bg-indigo-400 text-white border-indigo-400":"bg-white text-gray-400 border-gray-300"]])},[b(s(Ae),{class:"h-5 w-5","aria-hidden":"true"}),C(" Mirror ")],2),e("div",{onClick:a[6]||(a[6]=c=>h(v.$emit)),class:x(["flex gap-1 cursor-pointer items-center justify-center p-1 rounded-md border-2 h-10",[s(t).selectTool==="copy"?"bg-indigo-400 text-white border-indigo-400":"bg-white text-gray-400 border-gray-300"]])},[b(s(Le),{class:"h-5 w-5","aria-hidden":"true"}),C(" Copy ")],2),e("div",{onClick:a[7]||(a[7]=c=>S(v.$emit)),class:x(["flex gap-1 cursor-pointer items-center justify-center p-1 rounded-md border-2 h-10",[s(t).selectTool==="paste"?"bg-indigo-400 text-white border-indigo-400":"bg-white text-gray-400 border-gray-300"]])},[b(s(ze),{class:"h-5 w-5","aria-hidden":"true"}),C(" Paste ")],2)])])):N("",!0)]))}},Ye={class:"border border-gray-300 rounded-sm cursor-pointer h-full w-full mr-1"},Qe={key:0,class:"px-0.5 text-2xs bg-stone-600 rounded leading-none text-gray-300 font-semibold"},Xe={__name:"Bead",props:{color:"#fff",badge:null},setup(o){const t=o;return(n,i)=>(d(),f("div",Ye,[e("div",{class:"h-full w-full rounded-sm flex items-center justify-center hover:opacity-75",style:se("background-color:"+t.color+";")},[t.badge?(d(),f("span",Qe,B(t.badge),1)):N("",!0)],4)]))}},et={class:"font-semibold text-xl text-gray-800 leading-tight"},tt={class:"bg-white overflow-hidden shadow-sm sm:rounded-lg p-6 relative"},ot={class:"flex items-center w-full justify-start mb-4"},lt={class:"isolate flex -space-x-px rounded-md shadow-sm bg-white"},nt={class:"relative rounded-md rounded-r-none px-3 pb-1.5 pt-2.5 ring-1 ring-inset ring-gray-300 focus-within:z-10 focus-within:ring-2 focus-within:ring-indigo-600 flex flex-col justify-between"},st={class:"relative rounded-md rounded-l-none rounded-r-none px-3 pb-1.5 pt-2.5 ring-1 ring-inset ring-gray-300 focus-within:z-10 focus-within:ring-2 focus-within:ring-indigo-600 flex w-32"},it={class:"flex flex-col"},rt=e("label",{for:"cols",class:"block text-xs font-medium text-gray-500 text-right"},"Longitude",-1),at={class:"flex flex-col justify-between"},dt=e("label",{for:"rows",class:"block text-xs font-medium text-gray-500 text-right"},"Side",-1),ut=e("span",{class:"sr-only"},"Add to the right",-1),ct=e("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-3 h-3 text-gray-400"},[e("path",{"stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",d:"M15.75 9V5.25A2.25 2.25 0 0013.5 3h-6a2.25 2.25 0 00-2.25 2.25v13.5A2.25 2.25 0 007.5 21h6a2.25 2.25 0 002.25-2.25V15M12 9l-3 3m0 0l3 3m-3-3h12.75"})],-1),pt=[ct],ft=e("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-3 h-3 text-indigo-600"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15.75 9V5.25A2.25 2.25 0 0013.5 3h-6a2.25 2.25 0 00-2.25 2.25v13.5A2.25 2.25 0 007.5 21h6a2.25 2.25 0 002.25-2.25V15m3 0l3-3m0 0l-3-3m3 3H9"})],-1),gt=[ft],ht={class:"relative rounded-md rounded-l-none rounded-r-none px-3 pb-1.5 pt-2.5 ring-1 ring-inset ring-gray-300 focus-within:z-10 focus-within:ring-2 focus-within:ring-indigo-600 flex w-28"},vt={class:"flex flex-col"},mt=e("label",{for:"rows",class:"block text-xs font-medium text-gray-500 text-right"},"Width",-1),xt={class:"flex flex-col justify-between"},wt=e("label",{for:"rows",class:"block text-xs font-medium text-gray-500 text-right"},"Side",-1),bt=e("span",{class:"sr-only"},"Add to the bottom",-1),yt=e("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-3 h-3 text-gray-400"},[e("path",{"stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",d:"M3 16.5v2.25A2.25 2.25 0 005.25 21h13.5A2.25 2.25 0 0021 18.75V16.5m-13.5-9L12 3m0 0l4.5 4.5M12 3v13.5"})],-1),_t=[yt],kt=e("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-3 h-3 text-indigo-600"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M3 16.5v2.25A2.25 2.25 0 005.25 21h13.5A2.25 2.25 0 0021 18.75V16.5M16.5 12L12 16.5m0 0L7.5 12m4.5 4.5V3"})],-1),St=[kt],jt={class:"relative rounded-md rounded-l-none rounded-r-none px-3 pb-1.5 pt-2.5 ring-1 ring-inset ring-gray-300 focus-within:z-10 focus-within:ring-2 focus-within:ring-indigo-600 flex flex-col justify-between w-36"},Ct=e("label",{for:"type",class:"block text-xs font-medium text-gray-500 text-right"},"Type",-1),$t=e("option",{value:"Square"},"Square",-1),Tt=e("option",{value:"Peyote"},"Peyote",-1),Mt=[$t,Tt],At={class:"relative rounded-md rounded-l-none rounded-r-none px-3 pb-1.5 pt-2.5 ring-1 ring-inset ring-gray-300 focus-within:z-10 focus-within:ring-2 focus-within:ring-indigo-600 flex flex-col justify-between w-36"},zt=e("label",{for:"zoom",class:"block text-xs font-medium text-gray-500 text-right"},"Zoom",-1),Vt=e("option",{value:"1"},"Small",-1),Lt=e("option",{value:"2"},"Medium",-1),Bt=e("option",{value:"3"},"Large",-1),Dt=[Vt,Lt,Bt],Ot={class:"relative rounded-md rounded-l-none px-3 pb-1.5 pt-2.5 ring-1 ring-inset ring-gray-300 focus-within:z-10 focus-within:ring-2 focus-within:ring-indigo-600 flex flex-col justify-between w-64"},Pt=e("label",{for:"rows",class:"block text-xs font-medium text-gray-500 text-right"},"Name",-1),Nt={class:"py-5 w-full border mb-4 justify-center bg-slate-50 overflow-x-auto"},Ut={key:0,class:"absolute left-1 flex flex-col text-xs text-gray-400 leading-none"},Et={class:"flex"},Ht=e("div",{class:"w-5 bg-gradient-to-r from-slate-300 via-slate-100 to-slate-400"},null,-1),Gt={class:"relative"},It={key:0,class:"absolute -top-5"},Rt={class:"gap-px flex text-xs text-gray-400 leading-none"},Ft={class:"text-center"},Kt=e("div",{class:"w-5 bg-gradient-to-r from-slate-300 via-slate-100 to-slate-400"},null,-1),Yt={__name:"Show",props:{project:Object,delicas:Object,items:Object},setup(o){const t=o,n=Z(),i=_(t.project.width),g=_(t.project.long),u=_(!0),h=_(!0),S=_(t.project.type),v=_(t.project.name),a=_(2),c=_(!1),m=_([]),z=M(()=>a.value==1?"h-4 w-5":a.value==2?"h-5 w-6":a.value==3?"h-6 w-7":"h-5 w-6"),D=(p,l)=>m.value.includes(p+"-"+l),$=ge({width:null,bottom:!0,long:null,right:!0,type:null,name:null});function T(){$.width=i,$.bottom=h,$.long=g,$.right=u,$.type=S,$.name=v,$.put("/projects/"+t.project.id,{preserveScroll:!0})}function w(p,l){n.tool==="paint"&&n.delica!==null&&Q.patch("/projects/"+t.project.id+"/beads/"+p+"/"+l,{delica_id:n.delica.id},{preserveScroll:!0,only:["items","delicas"]})}function j(p,l){Q.delete("/projects/"+t.project.id+"/beads/"+p+"/"+l,{preserveScroll:!0,only:["items","delicas"]})}function H(p,l){n.tool==="select"&&(c.value=!0,n.selectTool==="add"?m.value.includes(p+"-"+l)||m.value.push(p+"-"+l):m.value.includes(p+"-"+l)&&(m.value=m.value.filter(r=>r!==p+"-"+l)))}function U(p,l){n.tool==="select"&&(c.value=!1)}function G(p,l){n.tool==="select"&&c.value&&(n.selectTool==="add"?m.value.includes(p+"-"+l)||m.value.push(p+"-"+l):m.value.includes(p+"-"+l)&&(m.value=m.value.filter(r=>r!==p+"-"+l)))}function I(){let p=[];m.value.forEach(function(l){let r=l.split("-")[0],y=l.split("-")[1],V=r,k=parseInt(g.value)-parseInt(y)+1;p.push(V+"-"+k)}),m.value=p}function R(){m.value.sort(function(p,l){let r=p.split("-")[0],y=p.split("-")[1],V=l.split("-")[0],k=l.split("-")[1];return r<V?-1:r>V?1:y<k?-1:y>k?1:0}),n.clipboard=m.value,m.value=[]}function ue(){let p=m.value[0];parseInt(p.split("-")[0]),parseInt(p.split("-")[1]),n.clipboard.forEach(function(l){l.split("-")[0],l.split("-")[1]})}return(p,l)=>(d(),f(L,null,[b(s(he),{title:"Project Details"}),b(ke,null,{header:A(()=>[e("h2",et,B(o.project.name),1)]),default:A(()=>[e("div",{class:"max-w-full",onMouseup:l[8]||(l[8]=r=>U(p.row,p.col))},[e("div",tt,[e("div",ot,[e("div",lt,[e("div",nt,[b(Ne)]),e("div",st,[e("div",it,[rt,O(e("input",{"onUpdate:modelValue":l[0]||(l[0]=r=>g.value=r),onChange:T,type:"number",name:"cols",id:"cols",class:"mt-2 block w-full border-0 p-0 py-1.5 pl-3 pr-1 text-gray-900 placeholder:text-gray-400 focus:ring-0 sm:text-sm sm:leading-6 text-right",placeholder:"How long is the bracelet"},null,544),[[F,g.value,void 0,{number:!0}]])]),e("div",at,[dt,b(s(K),{modelValue:u.value,"onUpdate:modelValue":l[1]||(l[1]=r=>u.value=r),class:x([u.value?"bg-indigo-600":"bg-gray-200","relative mt-2 inline-flex h-6 w-11 flex-shrink-0 cursor-pointer rounded-full border-2 border-transparent transition-colors duration-200 ease-in-out focus:outline-none focus:ring-2 focus:ring-indigo-600 focus:ring-offset-2"])},{default:A(()=>[ut,e("span",{class:x([u.value?"translate-x-5":"translate-x-0","pointer-events-none relative inline-block h-5 w-5 transform rounded-full bg-white shadow ring-0 transition duration-200 ease-in-out"])},[e("span",{class:x([u.value?"opacity-0 duration-100 ease-out":"opacity-100 duration-200 ease-in","absolute inset-0 flex h-full w-full items-center justify-center transition-opacity"]),"aria-hidden":"true"},pt,2),e("span",{class:x([u.value?"opacity-100 duration-200 ease-in":"opacity-0 duration-100 ease-out","absolute inset-0 flex h-full w-full items-center justify-center transition-opacity"]),"aria-hidden":"true"},gt,2)],2)]),_:1},8,["modelValue","class"])])]),e("div",ht,[e("div",vt,[mt,O(e("input",{"onUpdate:modelValue":l[2]||(l[2]=r=>i.value=r),onChange:T,type:"number",name:"rows",id:"rows",class:"mt-2 block w-full border-0 p-0 py-1.5 pl-3 pr-1 text-gray-900 placeholder:text-gray-400 focus:ring-0 sm:text-sm sm:leading-6 text-right",placeholder:"Width of the bracelet"},null,544),[[F,i.value,void 0,{number:!0}]])]),e("div",xt,[wt,b(s(K),{modelValue:h.value,"onUpdate:modelValue":l[3]||(l[3]=r=>h.value=r),class:x([h.value?"bg-indigo-600":"bg-gray-200","relative mt-2 inline-flex h-6 w-11 flex-shrink-0 cursor-pointer rounded-full border-2 border-transparent transition-colors duration-200 ease-in-out focus:outline-none focus:ring-2 focus:ring-indigo-600 focus:ring-offset-2"])},{default:A(()=>[bt,e("span",{class:x([h.value?"translate-x-5":"translate-x-0","pointer-events-none relative inline-block h-5 w-5 transform rounded-full bg-white shadow ring-0 transition duration-200 ease-in-out"])},[e("span",{class:x([h.value?"opacity-0 duration-100 ease-out":"opacity-100 duration-200 ease-in","absolute inset-0 flex h-full w-full items-center justify-center transition-opacity"]),"aria-hidden":"true"},_t,2),e("span",{class:x([h.value?"opacity-100 duration-200 ease-in":"opacity-0 duration-100 ease-out","absolute inset-0 flex h-full w-full items-center justify-center transition-opacity"]),"aria-hidden":"true"},St,2)],2)]),_:1},8,["modelValue","class"])])]),e("div",jt,[Ct,O(e("select",{"onUpdate:modelValue":l[4]||(l[4]=r=>S.value=r),id:"type",name:"type",onChange:T,class:"mt-2 block w-full rounded-md border-0 py-1.5 pl-3 pr-10 text-gray-900 ring-1 ring-inset ring-gray-300 focus:ring-2 focus:ring-indigo-600 sm:text-sm sm:leading-6"},Mt,544),[[Y,S.value]])]),e("div",At,[zt,O(e("select",{"onUpdate:modelValue":l[5]||(l[5]=r=>a.value=r),id:"zoom",name:"type",class:"mt-2 block w-full rounded-md border-0 py-1.5 pl-3 pr-10 text-gray-900 ring-1 ring-inset ring-gray-300 focus:ring-2 focus:ring-indigo-600 sm:text-sm sm:leading-6"},Dt,512),[[Y,a.value]])]),e("div",Ot,[Pt,O(e("input",{"onUpdate:modelValue":l[6]||(l[6]=r=>v.value=r),onChange:T,type:"text",name:"name",id:"name",class:"mt-2 block w-full border-0 p-0 py-1.5 pl-3 pr-1 text-gray-900 placeholder:text-gray-400 focus:ring-0 sm:text-sm sm:leading-6 text-right",placeholder:"Name of this project"},null,544),[[F,v.value]])])])]),b(Je,{delicas:o.delicas,onClearSelection:l[7]||(l[7]=r=>m.value=[]),onMirrorSelection:I,onCopySelection:R,onPasteSelection:ue},null,8,["delicas"]),e("div",Nt,[s(n).guides?(d(),f("div",Ut,[(d(!0),f(L,null,P(i.value,r=>(d(),f("div",{key:"guides-row-"+r,class:x(["flex items-center justify-center",s(z)])},B(r),3))),128))])):N("",!0),e("div",Et,[Ht,e("div",Gt,[s(n).guides?(d(),f("div",It,[e("div",Rt,[(d(!0),f(L,null,P(g.value,r=>(d(),f("div",{key:"guides-col-"+r,class:x(["flex items-center justify-center h-5",s(z)])},[e("div",Ft,B(r),1)],2))),128))])])):N("",!0),(d(!0),f(L,null,P(o.items,(r,y)=>(d(),f("div",{key:"row-"+y,class:x(["gap-px flex select-none",{"ml-3":S.value==="Peyote"&&y%2==0}])},[(d(!0),f(L,null,P(r,(V,k)=>(d(),f("div",{key:"col-"+k,class:x([D(y,k)?"border-2 border-indigo-500":"",s(z)])},[(d(),ne(Xe,{key:y+"-"+k,color:V.rgb,badge:s(n).guides?V.badge:null,onClick:E=>w(y,k),onDblclick:E=>j(y,k),onMousedown:E=>H(y,k),onMouseup:E=>U(y,k),onMouseover:E=>G(y,k)},null,8,["color","badge","onClick","onDblclick","onMousedown","onMouseup","onMouseover"]))],2))),128))],2))),128))]),Kt])])])],32)]),_:1})],64))}};export{Yt as default};
